{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/chromotome/dist/index.umd.js","webpack:///./src/js/automata.js","webpack:///./src/js/random.js","webpack:///./src/js/lerp.js","webpack:///./src/js/interceptors/renderer.js","webpack:///./src/js/synth/utils.js","webpack:///./src/js/synth/scales.js","webpack:///./src/js/synth/parts.js","webpack:///./src/js/synth/instruments/instrument.js","webpack:///./src/js/synth/instruments/bass.js","webpack:///./src/js/synth/instruments/pads.js","webpack:///./src/js/synth/instruments/drums.js","webpack:///./src/js/synth/instruments/lead.js","webpack:///./src/js/synth/instruments/presets.js","webpack:///./src/js/synth/instruments/index.js","webpack:///./src/js/synth/rythyms.js","webpack:///./src/js/synth/funkyDownTempo.js","webpack:///./src/js/interceptors/music.js","webpack:///./src/js/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","palettes","colors","background","stroke","concat","backgrund","map","size","length","getRandom","Math","floor","random","undefined","find","pal","getAll","getNames","factory","Automata","constructor","timestamps","k","ruleString","random_num","push","random_int","this","config","chunkSize","neighbourhood","ruleStringLength","sum","reduce","partialSum","a","Number","generate","grid","Array","fill","val","len","begin","nextRow","j","totalisticRule","generateSegments","row","start","end","isLastRow","consecutiveVal","min","console","log","getCell","idx","Random","hash","tokenData","useA","sfc32","uint128Hex","parseInt","substr","b","prngA","prngB","random_dec","random_bool","random_choice","list","lerp","v0","v1","Renderer","automata","context","activeNoteIdx","palettesNames","palette","tome","paletteColors","strokeColor","backgroundColor","automataConfig","boxConfig","MIN_WIDTH","MAX_WIDIH","MIN_HEIGHT","MAX_HEIGHT","MAX_GAP","MAX_ROW","boxList","gridRow","entries","startingTheta","omega","alpha","cumulativeArea","boxRow","lastEndingX","box","x","y","w","h","gapAfter","color","radiusDelta","radiusV","radiusA","shown","currRow","setDim","width","height","fillStyle","getScaleParam","DIM","M","CELL_SIZE_HEIGHT","scale","BASE_RADIUS","DEFAULT_SIZE","render","setTransform","clearRect","fillRect","translate","drawBox","thetaLeft","thetaRight","radiusTop","radiusBottom","p1","cos","sin","p2","p4","beginPath","moveTo","lineTo","arc","closePath","rowData","slice","totalLen","max","currRadius","PI","setActiveNode","randomIntBetween","window","randomFromArray","array","roots","scales","Major","Minor","HarmonicMinor","MelodicMinor","PentatonicMajor","PentatonicMinor","PentatonicBlues","PentatonicNeutral","Ionian","Aeolian","Dorian","Mixolydian","Phrygian","Lydian","Locrian","Dominant7th","Blues","chordProgressions","chords","actualNotesFromScale","tonic","lowOctave","highOctave","notes","isNaN","parseFloat","replace","Tone","Frequency","toNote","octave","octaveScale","scaleFromTonic","chordFromScale","chordToneIndexes","mainOctave","indexOffset","fullScale","filteredScale","index","intervals","note","interval","transpose","toFrequency","rootNotesFromChordProgression","chordProgression","chord","join","addDrums","startTime","instrument","pattern","probability","shouldLoop","sequencer","Sequence","time","hit","triggerAttackRelease","loop","Instrument","synth","volume","connect","toDestination","duration","err","subBass","squareBass","softSquareBass","FastAttackSquare","super","Synth","oscillator","type","envelope","attack","decay","sustain","release","SawTooth","harmonics","bassSynth","SimpleSine","PolySynth","set","portamento","SoftSquareFm","reverb","Freeverb","filter","Filter","chain","SwirlySawtoothChorusWithSubBass","chordSynth","toMaster","lfo","LFO","frequency","chorus","Chorus","bass","lowRootNote","KickDrum","MembraneSynth","pitchDecay","HiHat","MetalSynth","Slap","NoiseSynth","noise","playbackRate","OpenHat","setFrequency","Shaker","harmonicity","modulationIndex","resonance","octaves","DampenedOpenHat","Tiny","modulationType","modulation","modulationEnvelope","AM_Tiny","AMSynth","FM_ElectricCello","FMSynth","Kalimba","BassGuitar","MonoSynth","Q","rolloff","filterEnvelope","baseFrequency","freeverb","Bassy","partials","Coolguy","modulationFrequency","exponent","Mono_Pizz","Bah","releaseCurve","AlienChorus","spread","count","attackCurve","DelicateWindPart","TreeTrunk","Marimba","Gravel","pads","drums","lead","presets","kicks","snares","hiHats","shakers","openHats","motifs","Song","Master","possibleChordPads","instruments","possibleBassInstruments","possibleMotifInstruments","drumInstruments","visCallback","keyType","keys","randomType","utils","songKey","root","typeName","chordOctave","progressionIntervals","chordTypesToUseInProgression","progressionRootNotes","chordTypes","progression","chordTypesToUse","progressionNotes","progressionIndex","chordProgressionBars","kickRythym","hihatRythym","shakerRythym","openHatRythym","snareRythym","bassLinePatterns","motifPatterns","mainMelodyPatterns","mainMelodySequence","melodyOctave","transposeSemiTones","chordRoot","chordRootToNote","scaleForCurrentChord","cell","Time","toSeconds","notesPerChord","bassLinePattern","bassOctave","chordInstrument","bassInstrument","motifInstrument","mainMelodyInstrument","generatedSettings","bpm","swing","chordProgressionNotes","parts","noteLength","Loop","currentChord","shift","patterns","repeatTimes","expandedSequence","section","ri","ni","expandedPattern","rythym","noteCountForChord","notesForChord","previousNoteIndex","newNote","Draw","schedule","Music","renderer","state","toneStarted","playing","rowIdx","colIdx","song","stop","Transport","getContext","close","togglePlay","play","tmp","location","search","split","hashParam","W","D","document","canvas","body","appendChild","createElement","pixelRatio","music","gui","dat","GUI","autoPlace","id","draw","updateDisplay","requestAnimationFrame","props","resetAnimation","async","toString","add","show","resize","innerWidth","innerHeight","devicePixelRatio","style","save","restore","addEventListener"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.chromotome = {})));\n}(this, (function (exports) { 'use strict';\n\n  var misc = [\r\n    {\r\n      name: 'frozen-rose',\r\n      colors: ['#29368f', '#e9697b', '#1b164d', '#f7d996'],\r\n      background: '#f2e8e4',\r\n    },\r\n    {\r\n      name: 'winter-night',\r\n      colors: ['#122438', '#dd672e', '#87c7ca', '#ebebeb'],\r\n      background: '#ebebeb',\r\n    },\r\n    {\r\n      name: 'saami',\r\n      colors: ['#eab700', '#e64818', '#2c6393', '#eecfca'],\r\n      background: '#e7e6e4',\r\n    },\r\n    {\r\n      name: 'knotberry1',\r\n      colors: ['#20342a', '#f74713', '#686d2c', '#e9b4a6'],\r\n      background: '#e5ded8',\r\n    },\r\n    {\r\n      name: 'knotberry2',\r\n      colors: ['#1d3b1a', '#eb4b11', '#e5bc00', '#f29881'],\r\n      background: '#eae2d0',\r\n    },\r\n    {\r\n      name: 'tricolor',\r\n      colors: ['#ec643b', '#56b7ab', '#f8cb57', '#1f1e43'],\r\n      background: '#f7f2df',\r\n    },\r\n    {\r\n      name: 'foxshelter',\r\n      colors: ['#ff3931', '#007861', '#311f27', '#bab9a4'],\r\n      background: '#dddddd',\r\n    },\r\n    {\r\n      name: 'hermes',\r\n      colors: ['#253852', '#51222f', '#b53435', '#ecbb51'],\r\n      background: '#eeccc2',\r\n    },\r\n    {\r\n      name: 'olympia',\r\n      colors: ['#ff3250', '#ffb33a', '#008c36', '#0085c6', '#4c4c4c'],\r\n      stroke: '#0b0b0b',\r\n      background: '#faf2e5',\r\n    },\r\n    {\r\n      name: 'byrnes',\r\n      colors: ['#c54514', '#dca215', '#23507f'],\r\n      stroke: '#0b0b0b',\r\n      background: '#e8e7d4',\r\n    },\r\n    {\r\n      name: 'butterfly',\r\n      colors: ['#f40104', '#f6c0b3', '#99673a', '#f0f1f4'],\r\n      stroke: '#191e36',\r\n      background: '#191e36',\r\n    },\r\n    {\r\n      name: 'floratopia',\r\n      colors: ['#bf4a2b', '#cd902a', '#4e4973', '#f5d4bc'],\r\n      stroke: '#1e1a43',\r\n      background: '#1e1a43',\r\n    },\r\n    {\r\n      name: 'verena',\r\n      colors: ['#f1594a', '#f5b50e', '#14a160', '#2969de', '#885fa4'],\r\n      stroke: '#1a1a1a',\r\n      background: '#e2e6e8',\r\n    },\r\n    {\r\n      name: 'florida_citrus',\r\n      colors: ['#ea7251', '#ebf7f0', '#02aca5'],\r\n      stroke: '#050100',\r\n      background: '#9ae2d3',\r\n    },\r\n    {\r\n      name: 'lemon_citrus',\r\n      colors: ['#e2d574', '#f1f4f7', '#69c5ab'],\r\n      stroke: '#463231',\r\n      background: '#f79eac',\r\n    },\r\n    {\r\n      name: 'yuma_punk',\r\n      colors: ['#f05e3b', '#ebdec4', '#ffdb00'],\r\n      stroke: '#ebdec4',\r\n      background: '#161616',\r\n    },\r\n    {\r\n      name: 'yuma_punk2',\r\n      colors: ['#f2d002', '#f7f5e1', '#ec643b'],\r\n      stroke: '#19080e',\r\n      background: '#f7f5e1',\r\n    },\r\n    {\r\n      name: 'moir',\r\n      colors: ['#a49f4f', '#d4501e', '#f7c558', '#ebbaa6'],\r\n      stroke: '#161716',\r\n      background: '#f7f4ef',\r\n    },\r\n    {\r\n      name: 'sprague',\r\n      colors: ['#ec2f28', '#f8cd28', '#1e95bb', '#fbaab3', '#fcefdf'],\r\n      stroke: '#221e1f',\r\n      background: '#fcefdf',\r\n    },\r\n    {\r\n      name: 'bloomberg',\r\n      colors: ['#ff5500', '#f4c145', '#144714', '#2f04fc', '#e276af'],\r\n      stroke: '#000',\r\n      background: '#fff3dd',\r\n    },\r\n    {\r\n      name: 'revolucion',\r\n      colors: ['#ed555d', '#fffcc9', '#41b797', '#eda126', '#7b5770'],\r\n      stroke: '#fffcc9',\r\n      background: '#2d1922',\r\n    },\r\n    {\r\n      name: 'sneaker',\r\n      colors: ['#e8165b', '#401e38', '#66c3b4', '#ee7724', '#584098'],\r\n      stroke: '#401e38',\r\n      background: '#ffffff',\r\n    },\r\n    {\r\n      name: 'miradors',\r\n      colors: ['#ff6936', '#fddc3f', '#0075ca', '#00bb70'],\r\n      stroke: '#ffffff',\r\n      background: '#020202',\r\n    },\r\n    {\r\n      name: 'kaffeprat',\r\n      colors: ['#BCAA8C', '#D8CDBE', '#484A42', '#746B58', '#9A8C73'],\r\n      stroke: '#000',\r\n      background: '#fff',\r\n    },\r\n    {\r\n      name: 'jrmy',\r\n      colors: ['#df456c', '#ea6a82', '#270b32', '#471e43'],\r\n      stroke: '#270b32',\r\n      background: '#ef9198',\r\n    },\r\n    {\r\n      name: 'animo',\r\n      colors: ['#f6c103', '#f6f6f6', '#d1cdc7', '#e7e6e5'],\r\n      stroke: '#010001',\r\n      background: '#f5f5f5',\r\n    },\r\n    {\r\n      name: 'book',\r\n      colors: ['#be1c24', '#d1a082', '#037b68', '#d8b1a5', '#1c2738', '#c95a3f'],\r\n      stroke: '#0e0f27',\r\n      background: '#f5b28a',\r\n    },\r\n    {\r\n      name: 'juxtapoz',\r\n      colors: ['#20357e', '#f44242', '#ffffff'],\r\n      stroke: '#000000',\r\n      background: '#cfc398',\r\n    },\r\n    {\r\n      name: 'hurdles',\r\n      colors: ['#e16503', '#dc9a0f', '#dfe2b4', '#66a7a6'],\r\n      stroke: '#3c1c03',\r\n      background: '#3c1c03',\r\n    },\r\n    {\r\n      name: 'ludo',\r\n      colors: ['#df302f', '#e5a320', '#0466b3', '#0f7963'],\r\n      stroke: '#272621',\r\n      background: '#dedccd',\r\n    },\r\n    {\r\n      name: 'riff',\r\n      colors: ['#e24724', '#c7c7c7', '#1f3e7c', '#d29294', '#010203'],\r\n      stroke: '#010203',\r\n      background: '#f2f2f2',\r\n    },\r\n    {\r\n      name: 'san ramon',\r\n      colors: ['#4f423a', '#f6a74b', '#589286', '#f8e9e2', '#2c2825'],\r\n      stroke: '#2c2825',\r\n      background: '#fff',\r\n    },\r\n    {\r\n      name: 'one-dress',\r\n      colors: ['#1767D2', '#FFFFFF', '#F9AB00', '#212121'],\r\n      stroke: '#212121',\r\n      background: '#fff',\r\n    },\r\n  ];\n\n  var colourscafe = [\r\n    {\r\n      name: 'cc239',\r\n      colors: ['#e3dd34', '#78496b', '#f0527f', '#a7e0e2'],\r\n      background: '#e0eff0'\r\n    },\r\n    {\r\n      name: 'cc234',\r\n      colors: ['#ffce49', '#ede8dc', '#ff5736', '#ff99b4'],\r\n      background: '#f7f4ed'\r\n    },\r\n    {\r\n      name: 'cc232',\r\n      colors: ['#5c5f46', '#ff7044', '#ffce39', '#66aeaa'],\r\n      background: '#e9ecde'\r\n    },\r\n    {\r\n      name: 'cc238',\r\n      colors: ['#553c60', '#ffb0a0', '#ff6749', '#fbe090'],\r\n      background: '#f5e9de'\r\n    },\r\n    {\r\n      name: 'cc242',\r\n      colors: ['#bbd444', '#fcd744', '#fa7b53', '#423c6f'],\r\n      background: '#faf4e4'\r\n    },\r\n    {\r\n      name: 'cc245',\r\n      colors: ['#0d4a4e', '#ff947b', '#ead3a2', '#5284ab'],\r\n      background: '#f6f4ed'\r\n    },\r\n    {\r\n      name: 'cc273',\r\n      colors: ['#363d4a', '#7b8a56', '#ff9369', '#f4c172'],\r\n      background: '#f0efe2'\r\n    }\r\n  ];\n\n  var ranganath = [\r\n    {\r\n      name: 'rag-mysore',\r\n      colors: ['#ec6c26', '#613a53', '#e8ac52', '#639aa0'],\r\n      background: '#d5cda1'\r\n    },\r\n    {\r\n      name: 'rag-gol',\r\n      colors: ['#d3693e', '#803528', '#f1b156', '#90a798'],\r\n      background: '#f0e0a4'\r\n    },\r\n    {\r\n      name: 'rag-belur',\r\n      colors: ['#f46e26', '#68485f', '#3d273a', '#535d55'],\r\n      background: '#dcd4a6'\r\n    },\r\n    {\r\n      name: 'rag-bangalore',\r\n      colors: ['#ea720e', '#ca5130', '#e9c25a', '#52534f'],\r\n      background: '#f9ecd3'\r\n    },\r\n    {\r\n      name: 'rag-taj',\r\n      colors: ['#ce565e', '#8e1752', '#f8a100', '#3ac1a6'],\r\n      background: '#efdea2'\r\n    },\r\n    {\r\n      name: 'rag-virupaksha',\r\n      colors: ['#f5736a', '#925951', '#feba4c', '#9d9b9d'],\r\n      background: '#eedfa2'\r\n    }\r\n  ];\n\n  var roygbivs = [\r\n    {\r\n      name: 'retro',\r\n      colors: [\r\n        '#69766f',\r\n        '#9ed6cb',\r\n        '#f7e5cc',\r\n        '#9d8f7f',\r\n        '#936454',\r\n        '#bf5c32',\r\n        '#efad57'\r\n      ]\r\n    },\r\n    {\r\n      name: 'retro-washedout',\r\n      colors: [\r\n        '#878a87',\r\n        '#cbdbc8',\r\n        '#e8e0d4',\r\n        '#b29e91',\r\n        '#9f736c',\r\n        '#b76254',\r\n        '#dfa372'\r\n      ]\r\n    },\r\n    {\r\n      name: 'roygbiv-warm',\r\n      colors: [\r\n        '#705f84',\r\n        '#687d99',\r\n        '#6c843e',\r\n        '#fc9a1a',\r\n        '#dc383a',\r\n        '#aa3a33',\r\n        '#9c4257'\r\n      ]\r\n    },\r\n    {\r\n      name: 'roygbiv-toned',\r\n      colors: [\r\n        '#817c77',\r\n        '#396c68',\r\n        '#89e3b7',\r\n        '#f59647',\r\n        '#d63644',\r\n        '#893f49',\r\n        '#4d3240'\r\n      ]\r\n    },\r\n    {\r\n      name: 'present-correct',\r\n      colors: [\r\n        '#fd3741',\r\n        '#fe4f11',\r\n        '#ff6800',\r\n        '#ffa61a',\r\n        '#ffc219',\r\n        '#ffd114',\r\n        '#fcd82e',\r\n        '#f4d730',\r\n        '#ced562',\r\n        '#8ac38f',\r\n        '#79b7a0',\r\n        '#72b5b1',\r\n        '#5b9bae',\r\n        '#6ba1b7',\r\n        '#49619d',\r\n        '#604791',\r\n        '#721e7f',\r\n        '#9b2b77',\r\n        '#ab2562',\r\n        '#ca2847'\r\n      ]\r\n    }\r\n  ];\n\n  var tundra = [\r\n    {\r\n      name: 'tundra1',\r\n      colors: ['#40708c', '#8e998c', '#5d3f37', '#ed6954', '#f2e9e2']\r\n    },\r\n    {\r\n      name: 'tundra2',\r\n      colors: ['#5f9e93', '#3d3638', '#733632', '#b66239', '#b0a1a4', '#e3dad2']\r\n    },\r\n    {\r\n      name: 'tundra3',\r\n      colors: [\r\n        '#87c3ca',\r\n        '#7b7377',\r\n        '#b2475d',\r\n        '#7d3e3e',\r\n        '#eb7f64',\r\n        '#d9c67a',\r\n        '#f3f2f2'\r\n      ]\r\n    },\r\n    {\r\n      name: 'tundra4',\r\n      colors: [\r\n        '#d53939',\r\n        '#b6754d',\r\n        '#a88d5f',\r\n        '#524643',\r\n        '#3c5a53',\r\n        '#7d8c7c',\r\n        '#dad6cd'\r\n      ]\r\n    }\r\n  ];\n\n  var rohlfs = [\r\n    {\r\n      name: 'rohlfs_1R',\r\n      colors: ['#004996', '#567bae', '#ff4c48', '#ffbcb3'],\r\n      stroke: '#004996',\r\n      background: '#fff8e7'\r\n    },\r\n    {\r\n      name: 'rohlfs_1Y',\r\n      colors: ['#004996', '#567bae', '#ffc000', '#ffdca4'],\r\n      stroke: '#004996',\r\n      background: '#fff8e7'\r\n    },\r\n    {\r\n      name: 'rohlfs_1G',\r\n      colors: ['#004996', '#567bae', '#60bf3c', '#d2deb1'],\r\n      stroke: '#004996',\r\n      background: '#fff8e7'\r\n    },\r\n    {\r\n      name: 'rohlfs_2',\r\n      colors: ['#4d3d9a', '#f76975', '#ffffff', '#eff0dd'],\r\n      stroke: '#211029',\r\n      background: '#58bdbc'\r\n    },\r\n    {\r\n      name: 'rohlfs_3',\r\n      colors: ['#abdfdf', '#fde500', '#58bdbc', '#eff0dd'],\r\n      stroke: '#211029',\r\n      background: '#f76975'\r\n    },\r\n    {\r\n      name: 'rohlfs_4',\r\n      colors: ['#fde500', '#2f2043', '#f76975', '#eff0dd'],\r\n      stroke: '#211029',\r\n      background: '#fbbeca'\r\n    }\r\n  ];\n\n  var ducci = [\r\n    {\r\n      name: 'ducci_jb',\r\n      colors: ['#395e54', '#e77b4d', '#050006', '#e55486'],\r\n      stroke: '#050006',\r\n      background: '#efe0bc'\r\n    },\r\n    {\r\n      name: 'ducci_a',\r\n      colors: ['#809498', '#d3990e', '#000000', '#ecddc5'],\r\n      stroke: '#ecddc5',\r\n      background: '#863f52'\r\n    },\r\n    {\r\n      name: 'ducci_b',\r\n      colors: ['#ecddc5', '#79b27b', '#000000', '#ac6548'],\r\n      stroke: '#ac6548',\r\n      background: '#d5c08e'\r\n    },\r\n    {\r\n      name: 'ducci_d',\r\n      colors: ['#f3cb4d', '#f2f5e3', '#20191b', '#67875c'],\r\n      stroke: '#67875c',\r\n      background: '#433d5f'\r\n    },\r\n    {\r\n      name: 'ducci_e',\r\n      colors: ['#c37c2b', '#f6ecce', '#000000', '#386a7a'],\r\n      stroke: '#386a7a',\r\n      background: '#e3cd98'\r\n    },\r\n    {\r\n      name: 'ducci_f',\r\n      colors: ['#596f7e', '#eae6c7', '#463c21', '#f4cb4c'],\r\n      stroke: '#f4cb4c',\r\n      background: '#e67300'\r\n    },\r\n    {\r\n      name: 'ducci_g',\r\n      colors: ['#c75669', '#000000', '#11706a'],\r\n      stroke: '#11706a',\r\n      background: '#ecddc5'\r\n    },\r\n    {\r\n      name: 'ducci_h',\r\n      colors: ['#6b5c6e', '#4a2839', '#d9574a'],\r\n      stroke: '#d9574a',\r\n      background: '#ffc34b'\r\n    },\r\n    {\r\n      name: 'ducci_i',\r\n      colors: ['#e9dcad', '#143331', '#ffc000'],\r\n      stroke: '#ffc000',\r\n      background: '#a74c02'\r\n    },\r\n    {\r\n      name: 'ducci_j',\r\n      colors: ['#c47c2b', '#5f5726', '#000000', '#7e8a84'],\r\n      stroke: '#7e8a84',\r\n      background: '#ecddc5'\r\n    },\r\n    {\r\n      name: 'ducci_o',\r\n      colors: ['#c15e1f', '#e4a13a', '#000000', '#4d545a'],\r\n      stroke: '#4d545a',\r\n      background: '#dfc79b'\r\n    },\r\n    {\r\n      name: 'ducci_q',\r\n      colors: ['#4bae8c', '#d0c1a0', '#2d3538'],\r\n      stroke: '#2d3538',\r\n      background: '#d06440'\r\n    },\r\n    {\r\n      name: 'ducci_u',\r\n      colors: ['#f6d700', '#f2d692', '#000000', '#5d3552'],\r\n      stroke: '#5d3552',\r\n      background: '#ff7426'\r\n    },\r\n    {\r\n      name: 'ducci_v',\r\n      colors: ['#c65f75', '#d3990e', '#000000', '#597e7a'],\r\n      stroke: '#597e7a',\r\n      background: '#f6eccb'\r\n    },\r\n    {\r\n      name: 'ducci_x',\r\n      colors: ['#dd614a', '#f5cedb', '#1a1e4f'],\r\n      stroke: '#1a1e4f',\r\n      background: '#fbb900'\r\n    }\r\n  ];\n\n  var judson = [\r\n    {\r\n      name: 'jud_playground',\r\n      colors: ['#f04924', '#fcce09', '#408ac9'],\r\n      stroke: '#2e2925',\r\n      background: '#ffffff'\r\n    },\r\n    {\r\n      name: 'jud_horizon',\r\n      colors: ['#f8c3df', '#f2e420', '#28b3d0', '#648731', '#ef6a7d'],\r\n      stroke: '#030305',\r\n      background: '#f2f0e1'\r\n    },\r\n    {\r\n      name: 'jud_mural',\r\n      colors: ['#ca3122', '#e5af16', '#4a93a2', '#0e7e39', '#e2b9bd'],\r\n      stroke: '#1c1616',\r\n      background: '#e3ded8'\r\n    },\r\n    {\r\n      name: 'jud_cabinet',\r\n      colors: ['#f0afb7', '#f6bc12', '#1477bb', '#41bb9b'],\r\n      stroke: '#020508',\r\n      background: '#e3ded8'\r\n    }\r\n  ];\n\n  var iivonen = [\r\n    {\r\n      name: 'iiso_zeitung',\r\n      colors: ['#ee8067', '#f3df76', '#00a9c0', '#f7ab76'],\r\n      stroke: '#111a17',\r\n      background: '#f5efcb'\r\n    },\r\n    {\r\n      name: 'iiso_curcuit',\r\n      colors: ['#f0865c', '#f2b07b', '#6bc4d2', '#1a3643'],\r\n      stroke: '#0f1417',\r\n      background: '#f0f0e8'\r\n    },\r\n    {\r\n      name: 'iiso_airlines',\r\n      colors: ['#fe765a', '#ffb468', '#4b588f', '#faf1e0'],\r\n      stroke: '#1c1616',\r\n      background: '#fae5c8'\r\n    },\r\n    {\r\n      name: 'iiso_daily',\r\n      colors: ['#e76c4a', '#f0d967', '#7f8cb6', '#1daeb1', '#ef9640'],\r\n      stroke: '#000100',\r\n      background: '#e2ded2'\r\n    }\r\n  ];\n\n  var kovecses = [\r\n    {\r\n      name: 'kov_01',\r\n      colors: ['#d24c23', '#7ba6bc', '#f0c667', '#ede2b3', '#672b35', '#142a36'],\r\n      stroke: '#132a37',\r\n      background: '#108266'\r\n    },\r\n    {\r\n      name: 'kov_02',\r\n      colors: ['#e8dccc', '#e94641', '#eeaeae'],\r\n      stroke: '#e8dccc',\r\n      background: '#6c96be'\r\n    },\r\n    {\r\n      name: 'kov_03',\r\n      colors: ['#e3937b', '#d93f1d', '#090d15', '#e6cca7'],\r\n      stroke: '#090d15',\r\n      background: '#558947'\r\n    },\r\n    {\r\n      name: 'kov_04',\r\n      colors: ['#d03718', '#292b36', '#33762f', '#ead7c9', '#ce7028', '#689d8d'],\r\n      stroke: '#292b36',\r\n      background: '#deb330'\r\n    },\r\n    {\r\n      name: 'kov_05',\r\n      colors: ['#de3f1a', '#de9232', '#007158', '#e6cdaf', '#869679'],\r\n      stroke: '#010006',\r\n      background: '#7aa5a6'\r\n    },\r\n    {\r\n      name: 'kov_06',\r\n      colors: [\r\n        '#a87c2a',\r\n        '#bdc9b1',\r\n        '#f14616',\r\n        '#ecbfaf',\r\n        '#017724',\r\n        '#0e2733',\r\n        '#2b9ae9'\r\n      ],\r\n      stroke: '#292319',\r\n      background: '#dfd4c1'\r\n    },\r\n    {\r\n      name: 'kov_06b',\r\n      colors: [\r\n        '#d57846',\r\n        '#dfe0cc',\r\n        '#de442f',\r\n        '#e7d3c5',\r\n        '#5ec227',\r\n        '#302f35',\r\n        '#63bdb3'\r\n      ],\r\n      stroke: '#292319',\r\n      background: '#dfd4c1'\r\n    },\r\n    {\r\n      name: 'kov_07',\r\n      colors: ['#c91619', '#fdecd2', '#f4a000', '#4c2653'],\r\n      stroke: '#111',\r\n      background: '#89c2cd'\r\n    }\r\n  ];\n\n  var tsuchimochi = [\r\n    {\r\n      name: 'tsu_arcade',\r\n      colors: ['#4aad8b', '#e15147', '#f3b551', '#cec8b8', '#d1af84', '#544e47'],\r\n      stroke: '#251c12',\r\n      background: '#cfc7b9'\r\n    },\r\n    {\r\n      name: 'tsu_harutan',\r\n      colors: ['#75974a', '#c83e3c', '#f39140', '#e4ded2', '#f8c5a4', '#434f55'],\r\n      stroke: '#251c12',\r\n      background: '#cfc7b9'\r\n    },\r\n    {\r\n      name: 'tsu_akasaka',\r\n      colors: ['#687f72', '#cc7d6c', '#dec36f', '#dec7af', '#ad8470', '#424637'],\r\n      stroke: '#251c12',\r\n      background: '#cfc7b9'\r\n    }\r\n  ];\n\n  var duotone = [\r\n    {\r\n      name: 'dt01',\r\n      colors: ['#172a89', '#f7f7f3'],\r\n      stroke: '#172a89',\r\n      background: '#f3abb0',\r\n    },\r\n    {\r\n      name: 'dt02',\r\n      colors: ['#302956', '#f3c507'],\r\n      stroke: '#302956',\r\n      background: '#eee3d3',\r\n    },\r\n    {\r\n      name: 'dt03',\r\n      colors: ['#000000', '#a7a7a7'],\r\n      stroke: '#000000',\r\n      background: '#0a5e78',\r\n    },\r\n    {\r\n      name: 'dt04',\r\n      colors: ['#50978e', '#f7f0df'],\r\n      stroke: '#000000',\r\n      background: '#f7f0df',\r\n    },\r\n    {\r\n      name: 'dt05',\r\n      colors: ['#ee5d65', '#f0e5cb'],\r\n      stroke: '#080708',\r\n      background: '#f0e5cb',\r\n    },\r\n    {\r\n      name: 'dt06',\r\n      colors: ['#271f47', '#e7ceb5'],\r\n      stroke: '#271f47',\r\n      background: '#cc2b1c',\r\n    },\r\n    {\r\n      name: 'dt07',\r\n      colors: ['#6a98a5', '#d24c18'],\r\n      stroke: '#efebda',\r\n      background: '#efebda',\r\n    },\r\n    {\r\n      name: 'dt08',\r\n      colors: ['#5d9d88', '#ebb43b'],\r\n      stroke: '#efebda',\r\n      background: '#efebda',\r\n    },\r\n    {\r\n      name: 'dt09',\r\n      colors: ['#052e57', '#de8d80'],\r\n      stroke: '#efebda',\r\n      background: '#efebda',\r\n    },\r\n    {\r\n      name: 'dt10',\r\n      colors: ['#e5dfcf', '#151513'],\r\n      stroke: '#151513',\r\n      background: '#e9b500',\r\n    },\r\n  ];\n\n  var hilda = [\r\n    {\r\n      name: 'hilda01',\r\n      colors: ['#ec5526', '#f4ac12', '#9ebbc1', '#f7f4e2'],\r\n      stroke: '#1e1b1e',\r\n      background: '#e7e8d4'\r\n    },\r\n    {\r\n      name: 'hilda02',\r\n      colors: ['#eb5627', '#eebb20', '#4e9eb8', '#f7f5d0'],\r\n      stroke: '#201d13',\r\n      background: '#77c1c0'\r\n    },\r\n    {\r\n      name: 'hilda03',\r\n      colors: ['#e95145', '#f8b917', '#b8bdc1', '#ffb2a2'],\r\n      stroke: '#010101',\r\n      background: '#6b7752'\r\n    },\r\n    {\r\n      name: 'hilda04',\r\n      colors: ['#e95145', '#f6bf7a', '#589da1', '#f5d9bc'],\r\n      stroke: '#000001',\r\n      background: '#f5ede1'\r\n    },\r\n    {\r\n      name: 'hilda05',\r\n      colors: ['#ff6555', '#ffb58f', '#d8eecf', '#8c4b47', '#bf7f93'],\r\n      stroke: '#2b0404',\r\n      background: '#ffda82'\r\n    },\r\n    {\r\n      name: 'hilda06',\r\n      colors: ['#f75952', '#ffce84', '#74b7b2', '#f6f6f6', '#b17d71'],\r\n      stroke: '#0e0603',\r\n      background: '#f6ecd4'\r\n    }\r\n  ];\n\n  var spatial = [\r\n    {\r\n      name: 'spatial01',\r\n      colors: ['#ff5937', '#f6f6f4', '#4169ff'],\r\n      stroke: '#ff5937',\r\n      background: '#f6f6f4'\r\n    },\r\n    {\r\n      name: 'spatial02',\r\n      colors: ['#ff5937', '#f6f6f4', '#f6f6f4'],\r\n      stroke: '#ff5937',\r\n      background: '#f6f6f4'\r\n    },\r\n    {\r\n      name: 'spatial02i',\r\n      colors: ['#f6f6f4', '#ff5937', '#ff5937'],\r\n      stroke: '#f6f6f4',\r\n      background: '#ff5937'\r\n    },\r\n\r\n    {\r\n      name: 'spatial03',\r\n      colors: ['#4169ff', '#f6f6f4', '#f6f6f4'],\r\n      stroke: '#4169ff',\r\n      background: '#f6f6f4'\r\n    },\r\n    {\r\n      name: 'spatial03i',\r\n      colors: ['#f6f6f4', '#4169ff', '#4169ff'],\r\n      stroke: '#f6f6f4',\r\n      background: '#4169ff'\r\n    }\r\n  ];\n\n  var jung = [\r\n    {\r\n      name: 'jung_bird',\r\n      colors: ['#fc3032', '#fed530', '#33c3fb', '#ff7bac', '#fda929'],\r\n      stroke: '#000000',\r\n      background: '#ffffff'\r\n    },\r\n    {\r\n      name: 'jung_horse',\r\n      colors: ['#e72e81', '#f0bf36', '#3056a2'],\r\n      stroke: '#000000',\r\n      background: '#ffffff'\r\n    },\r\n    {\r\n      name: 'jung_croc',\r\n      colors: ['#f13274', '#eed03e', '#405e7f', '#19a198'],\r\n      stroke: '#000000',\r\n      background: '#ffffff'\r\n    },\r\n    {\r\n      name: 'jung_hippo',\r\n      colors: ['#ff7bac', '#ff921e', '#3ea8f5', '#7ac943'],\r\n      stroke: '#000000',\r\n      background: '#ffffff'\r\n    },\r\n    {\r\n      name: 'jung_wolf',\r\n      colors: ['#e51c39', '#f1b844', '#36c4b7', '#666666'],\r\n      stroke: '#000000',\r\n      background: '#ffffff'\r\n    }\r\n  ];\n\n  var system = [\r\n    {\r\n      name: 'system.#01',\r\n      colors: ['#ff4242', '#fec101', '#1841fe', '#fcbdcc', '#82e9b5'],\r\n      stroke: '#000',\r\n      background: '#fff'\r\n    },\r\n    {\r\n      name: 'system.#02',\r\n      colors: ['#ff4242', '#ffd480', '#1e365d', '#edb14c', '#418dcd'],\r\n      stroke: '#000',\r\n      background: '#fff'\r\n    },\r\n    {\r\n      name: 'system.#03',\r\n      colors: ['#f73f4a', '#d3e5eb', '#002c3e', '#1aa1b1', '#ec6675'],\r\n      stroke: '#110b09',\r\n      background: '#fff'\r\n    },\r\n    {\r\n      name: 'system.#04',\r\n      colors: ['#e31f4f', '#f0ac3f', '#18acab', '#26265a', '#ea7d81', '#dcd9d0'],\r\n      stroke: '#26265a',\r\n      backgrund: '#dcd9d0'\r\n    },\r\n    {\r\n      name: 'system.#05',\r\n      colors: ['#db4549', '#d1e1e1', '#3e6a90', '#2e3853', '#a3c9d3'],\r\n      stroke: '#000',\r\n      background: '#fff'\r\n    },\r\n    {\r\n      name: 'system.#06',\r\n      colors: ['#e5475c', '#95b394', '#28343b', '#f7c6a3', '#eb8078'],\r\n      stroke: '#000',\r\n      background: '#fff'\r\n    },\r\n    {\r\n      name: 'system.#07',\r\n      colors: ['#d75c49', '#f0efea', '#509da4'],\r\n      stroke: '#000',\r\n      background: '#fff'\r\n    },\r\n    {\r\n      name: 'system.#08',\r\n      colors: ['#f6625a', '#92b29f', '#272c3f'],\r\n      stroke: '#000',\r\n      background: '#fff'\r\n    }\r\n  ];\n\n  var flourish = [\r\n    {\r\n      name: 'empusa',\r\n      colors: ['#c92a28', '#e69301', '#1f8793', '#13652b', '#e7d8b0', '#48233b', '#e3b3ac'],\r\n      stroke: '#1a1a1a',\r\n      background: '#f0f0f2',\r\n    },\r\n    {\r\n      name: 'delphi',\r\n      colors: ['#475b62', '#7a999c', '#2a1f1d', '#fbaf3c', '#df4a33', '#f0e0c6', '#af592c'],\r\n      stroke: '#2a1f1d',\r\n      background: '#f0e0c6',\r\n    },\r\n    {\r\n      name: 'mably',\r\n      colors: [\r\n        '#13477b',\r\n        '#2f1b10',\r\n        '#d18529',\r\n        '#d72a25',\r\n        '#e42184',\r\n        '#138898',\r\n        '#9d2787',\r\n        '#7f311b',\r\n      ],\r\n      stroke: '#2a1f1d',\r\n      background: '#dfc792',\r\n    },\r\n    {\r\n      name: 'nowak',\r\n      colors: ['#e85b30', '#ef9e28', '#c6ac71', '#e0c191', '#3f6279', '#ee854e', '#180305'],\r\n      stroke: '#180305',\r\n      background: '#ede4cb',\r\n    },\r\n    {\r\n      name: 'jupiter',\r\n      colors: ['#c03a53', '#edd09e', '#aab5af', '#023629', '#eba735', '#8e9380', '#6c4127'],\r\n      stroke: '#12110f',\r\n      background: '#e6e2d6',\r\n    },\r\n    {\r\n      name: 'hersche',\r\n      colors: [\r\n        '#df9f00',\r\n        '#1f6f50',\r\n        '#8e6d7f',\r\n        '#da0607',\r\n        '#a4a5a7',\r\n        '#d3d1c3',\r\n        '#42064f',\r\n        '#25393a',\r\n      ],\r\n      stroke: '#0a0a0a',\r\n      background: '#f0f5f6',\r\n    },\r\n    {\r\n      name: 'cherfi',\r\n      colors: ['#99cb9f', '#cfb610', '#d00701', '#dba78d', '#2e2c1d', '#bfbea2', '#d2cfaf'],\r\n      stroke: '#332e22',\r\n      background: '#e3e2c5',\r\n    },\r\n    {\r\n      name: 'harvest',\r\n      colors: [\r\n        '#313a42',\r\n        '#9aad2e',\r\n        '#f0ae3c',\r\n        '#df4822',\r\n        '#8eac9b',\r\n        '#cc3d3f',\r\n        '#ec8b1c',\r\n        '#1b9268',\r\n      ],\r\n      stroke: '#463930',\r\n      background: '#e5e2cf',\r\n    },\r\n    {\r\n      name: 'honey',\r\n      colors: ['#f14d42', '#f4fdec', '#4fbe5d', '#265487', '#f6e916', '#f9a087', '#2e99d6'],\r\n      stroke: '#141414',\r\n      background: '#f4fdec',\r\n    },\r\n    {\r\n      name: 'jungle',\r\n      colors: [\r\n        '#adb100',\r\n        '#e5f4e9',\r\n        '#f4650f',\r\n        '#4d6838',\r\n        '#cb9e00',\r\n        '#689c7d',\r\n        '#e2a1a8',\r\n        '#151c2e',\r\n      ],\r\n      stroke: '#0e0f27',\r\n      background: '#cecaa9',\r\n    },\r\n    {\r\n      name: 'skyspider',\r\n      colors: ['#f4b232', '#f2dbbd', '#01799c', '#e93e48', '#0b1952', '#006748', '#ed817d'],\r\n      stroke: '#050505',\r\n      background: '#f0dbbc',\r\n    },\r\n    {\r\n      name: 'atlas',\r\n      colors: ['#5399b1', '#f4e9d5', '#de4037', '#ed942f', '#4e9e48', '#7a6e62'],\r\n      stroke: '#3d352b',\r\n      background: '#f0c328',\r\n    },\r\n    {\r\n      name: 'giftcard',\r\n      colors: [\r\n        '#FBF5E9',\r\n        '#FF514E',\r\n        '#FDBC2E',\r\n        '#4561CC',\r\n        '#2A303E',\r\n        '#6CC283',\r\n        '#A71172',\r\n        '#238DA5',\r\n        '#9BD7CB',\r\n        '#231E58',\r\n        '#4E0942',\r\n      ],\r\n      stroke: '#000',\r\n      background: '#FBF5E9',\r\n    },\r\n    {\r\n      name: 'giftcard_sub',\r\n      colors: [\r\n        '#FBF5E9',\r\n        '#FF514E',\r\n        '#FDBC2E',\r\n        '#4561CC',\r\n        '#2A303E',\r\n        '#6CC283',\r\n        '#238DA5',\r\n        '#9BD7CB',\r\n      ],\r\n      stroke: '#000',\r\n      background: '#FBF5E9',\r\n    },\r\n  ];\n\n  var dale = [\r\n    {\r\n      name: 'dale_paddle',\r\n      colors: [\r\n        '#ff7a5a',\r\n        '#765aa6',\r\n        '#fee7bc',\r\n        '#515e8c',\r\n        '#ffc64a',\r\n        '#b460a6',\r\n        '#ffffff',\r\n        '#4781c1',\r\n      ],\r\n      stroke: '#000000',\r\n      background: '#abe9e8',\r\n    },\r\n    {\r\n      name: 'dale_night',\r\n      colors: ['#ae5d9d', '#f1e8bc', '#ef8fa3', '#f7c047', '#58c9ed', '#f77150'],\r\n      stroke: '#000000',\r\n      background: '#00ae83',\r\n    },\r\n    {\r\n      name: 'dale_cat',\r\n      colors: ['#f77656', '#f7f7f7', '#efc545', '#dfe0e2', '#3c70bd', '#66bee4'],\r\n      stroke: '#000000',\r\n      background: '#f6e0b8',\r\n    },\r\n  ];\n\n  var cako = [\r\n    {\r\n      name: 'cako1',\r\n      colors: ['#000000', '#d55a3a', '#2a5c8a', '#7e7d14', '#dbdac9'],\r\n      stroke: '#000000',\r\n      background: '#f4e9d5',\r\n    },\r\n    {\r\n      name: 'cako2',\r\n      colors: ['#dbdac9', '#d55a3a', '#2a5c8a', '#b47b8c', '#7e7d14'],\r\n      stroke: '#000000',\r\n      background: '#000000',\r\n    },\r\n    {\r\n      name: 'cako2_sub1',\r\n      colors: ['#dbdac9', '#d55a3a', '#2a5c8a'],\r\n      stroke: '#000000',\r\n      background: '#000000',\r\n    },\r\n    {\r\n      name: 'cako2_sub2',\r\n      colors: ['#dbdac9', '#d55a3a', '#7e7d14'],\r\n      stroke: '#000000',\r\n      background: '#000000',\r\n    },\r\n  ];\n\n  var mayo = [\r\n    {\r\n      name: 'mayo1',\r\n      colors: ['#ea510e', '#ffd203', '#0255a3', '#039177', '#111111'],\r\n      stroke: '#111111',\r\n      background: '#fff',\r\n    },\r\n    {\r\n      name: 'mayo2',\r\n      colors: ['#ea663f', '#f9cc27', '#84afd7', '#7ca994', '#f1bbc9', '#242424'],\r\n      stroke: '#2a2a2a',\r\n      background: '#f5f6f1',\r\n    },\r\n    {\r\n      name: 'mayo3',\r\n      colors: ['#ea5b19', '#f8c9b9', '#137661', '#2a2a2a'],\r\n      stroke: '#2a2a2a',\r\n      background: '#f5f4f0',\r\n    },\r\n  ];\n\n  var exposito = [\r\n    {\r\n      name: 'exposito',\r\n      colors: [\r\n        '#8bc9c3',\r\n        '#ffae43',\r\n        '#ea432c',\r\n        '#228345',\r\n        '#d1d7d3',\r\n        '#524e9c',\r\n        '#9dc35e',\r\n        '#f0a1a1',\r\n      ],\r\n      stroke: '#fff',\r\n      background: '#000000',\r\n    },\r\n    {\r\n      name: 'exposito_sub1',\r\n      colors: ['#8bc9c3', '#ffae43', '#ea432c', '#524e9c'],\r\n      stroke: '#fff',\r\n      background: '#000000',\r\n    },\r\n    {\r\n      name: 'exposito_sub2',\r\n      colors: ['#8bc9c3', '#ffae43', '#ea432c', '#524e9c', '#f0a1a1', '#228345'],\r\n      stroke: '#fff',\r\n      background: '#000000',\r\n    },\r\n    {\r\n      name: 'exposito_sub3',\r\n      colors: ['#ffae43', '#ea432c', '#524e9c', '#f0a1a1'],\r\n      stroke: '#fff',\r\n      background: '#000000',\r\n    },\r\n  ];\n\n  const pals = misc.concat(\r\n    ranganath,\r\n    roygbivs,\r\n    tundra,\r\n    colourscafe,\r\n    rohlfs,\r\n    ducci,\r\n    judson,\r\n    iivonen,\r\n    kovecses,\r\n    tsuchimochi,\r\n    duotone,\r\n    hilda,\r\n    spatial,\r\n    jung,\r\n    system,\r\n    flourish,\r\n    dale,\r\n    cako,\r\n    mayo,\r\n    exposito\r\n  );\r\n\r\n  var palettes = pals.map((p) => {\r\n    p.size = p.colors.length;\r\n    return p;\r\n  });\n\n  function getRandom() {\r\n    return palettes[Math.floor(Math.random() * palettes.length)];\r\n  }\r\n\r\n  function get(name) {\r\n    if (name === undefined) return getRandom();\r\n    return palettes.find(pal => pal.name == name);\r\n  }\r\n\r\n  function getAll() {\r\n    return palettes;\r\n  }\r\n\r\n  function getNames() {\r\n    return palettes.map(p => p.name);\r\n  }\n\n  exports.getRandom = getRandom;\n  exports.get = get;\n  exports.getAll = getAll;\n  exports.getNames = getNames;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","class Automata {\n  constructor(size = 50, timestamps=50, k = 3, r = 1, random) {\n    const ruleString = [];\n    for (let i = 0; i < (r + 2) * (k - 1) + 1; i += 1) {\n      // 20% prob empty\n      if (random.random_num(0, 1) < 0.35) {\n        ruleString.push(0);\n      } else {\n        ruleString.push(random.random_int(1, k - 1));\n      }\n    }\n    this.config = {\n      size,\n      timestamps,\n      k,\n      r,\n      ruleString,\n      random,\n      chunkSize: 8\n    };\n  }\n\n  static totalisticRule(neighbourhood, k, ruleString) {\n    const n = neighbourhood.length;\n    const ruleStringLength = n * (k - 1) + 1;\n    const sum = neighbourhood.reduce((partialSum, a) => partialSum + a, 0);\n    return Number(ruleString[ruleStringLength - 1 - sum]);\n  }\n\n  generate() {\n    this.grid = [\n      Array(this.config.size)\n        .fill(0)\n        .map(() => {\n          return {\n            val: this.config.random.random_int(0, this.config.k - 1),\n            len: 1,\n            begin: false\n          };\n        }),\n    ];\n\n    for (let t = 0; t < this.config.timestamps; t += 1) {\n      const nextRow = [];\n      for (let i = 0; i < this.config.size; i += 1) {\n        const neighbourhood = [];\n        for (let j = i - this.config.r; j <= i + this.config.r; j += 1) {\n          neighbourhood.push(\n            j >= 0 && j < this.config.size\n              ? this.grid[this.grid.length - 1][j].val\n              : 0\n          );\n        }\n        nextRow.push({\n          val: Automata.totalisticRule(\n            neighbourhood,\n            this.config.k,\n            this.config.ruleString\n          ),\n          len: 1,\n          begin: false,\n        });\n      }\n      this.grid.push(nextRow);\n    }\n\n    const generateSegments = (row, start, end, isLastRow) => {\n      let consecutiveVal = 0;\n      for (let i = end; i >= start; i--) {\n        if (i + 1 <= end && row[i].val !== row[i + 1].val) {\n          row[i + 1].begin = true;\n          consecutiveVal = 1;\n        } else {\n          consecutiveVal += 1;\n        }\n        row[i].len = consecutiveVal;\n      }\n      row[start].begin = true;\n    }\n\n    for (let t = 0; t < this.config.timestamps; t += 1) {\n      for(let i = 0; i < this.config.size; i += this.config.chunkSize) {\n        generateSegments(this.grid[t], i, Math.min(i+this.config.chunkSize, this.config.size-1))\n      }\n    }\n    console.log(this.grid)\n    //this.grid = this.grid.slice(1);\n  }\n\n  getCell(idx) {\n    if (idx < 0 || idx >= this.config.size * this.config.timestamps) return null;\n    return this.grid[Math.floor(idx / this.config.size)][\n      idx % this.config.size\n    ];\n  }\n}\n\nexport default Automata;\n","class Random {\n  constructor(hash) {\n    const tokenData = { hash };\n    this.useA = false;\n    const sfc32 = function (uint128Hex) {\n      let a = parseInt(uint128Hex.substr(0, 8, 16));\n      let b = parseInt(uint128Hex.substr(8, 8, 16));\n      let c = parseInt(uint128Hex.substr(16, 8, 16));\n      let d = parseInt(uint128Hex.substr(24, 8, 16));\n      return function () {\n        a |= 0; b |= 0; c |= 0; d |= 0;\n        const t = (((a + b) | 0) + d) | 0;\n        d = (d + 1) | 0;\n        a = b ^ (b >>> 9);\n        b = (c + (c << 3)) | 0;\n        c = (c << 21) | (c >>> 11);\n        c = (c + t) | 0;\n        return (t >>> 0) / 4294967296;\n      };\n    };\n    // seed prngA with first half of tokenData.hash\n    this.prngA = new sfc32(tokenData.hash.substr(2, 32));\n    // seed prngB with second half of tokenData.hash\n    this.prngB = new sfc32(tokenData.hash.substr(34, 32));\n    for (let i = 0; i < 1e6; i += 2) {\n      this.prngA();\n      this.prngB();\n    }\n  }\n\n  // random number between 0 (inclusive) and 1 (exclusive)\n  random_dec() {\n    this.useA = !this.useA;\n    return this.useA ? this.prngA() : this.prngB();\n  }\n\n  // random number between a (inclusive) and b (exclusive)\n  random_num(a, b) {\n    return a + (b - a) * this.random_dec();\n  }\n\n  // random integer between a (inclusive) and b (inclusive)\n  // requires a < b for proper probability distribution\n  random_int(a, b) {\n    return Math.floor(this.random_num(a, b + 1));\n  }\n\n  // random boolean with p as percent liklihood of true\n  random_bool(p) {\n    return this.random_dec() < p;\n  }\n\n  // random value in an array of items\n  random_choice(list) {\n    return list[this.random_int(0, list.length - 1)];\n  }\n}\n\nexport default Random;\n","function lerp(v0, v1, t) {\n  return v0 * (1 - t) + v1 * t;\n}\nexport default lerp;\n","import * as tome from \"chromotome\";\nimport lerp from \"../lerp\";\n\n// default 1000x1000 canvas\nconst DEFAULT_SIZE = 1000;\n\nconst randomPaletteColor = (random) => {\n  const n = Math.floor(random.random_dec() * 16777215);\n  const hex = n.toString(16);\n  const paddedHex = hex.padStart(6, \"0\");\n\n  return `#${paddedHex}`;\n};\n\nclass Renderer {\n  constructor(automata, context, random) {\n    this.context = context;\n    this.automata = automata;\n    this.random = random;\n    this.activeNoteIdx = null;\n\n    const palettesNames = [\n      \"retro\",\n      \"retro-washedout\",\n      \"roygbiv-warm\",\n      \"roygbiv-toned\",\n      \"present-correct\",\n      \"tundra3\",\n      \"tundra4\",\n      \"kov_06\",\n      \"kov_06b\",\n      \"empusa\",\n      \"delphi\",\n      \"mably\",\n      \"nowak\",\n      \"jupiter\",\n      \"hersche\",\n      \"cherfi\",\n      \"harvest\",\n      \"honey\",\n      \"jungle\",\n      \"giftcard\",\n      \"giftcard_sub\",\n      \"dale_paddle\",\n      \"exposito\",\n    ];\n    const idx = this.random.random_int(0, palettesNames.length-1);\n    this.palette = tome.get(palettesNames[idx]);\n    this.paletteColors = this.palette.colors;\n    this.strokeColor = this.palette.stroke;\n\n    // this.backgroundColor = backgroundPalette[random.random_int(0, backgroundPalette.length - 1)];\n    // this.backgroundColor = backgroundPalette[10];\n    this.backgroundColor = this.palette.background;\n\n    // generate boxes\n    // y: relative to CELL_SIZE_HEIGHT, 0 <= y + h <= CELL_SIZE_HEIGHT\n    /* const boxList = [[\n      {\n        x: 0, y: 0, w: 10, h: 50,\n      },\n      {\n        x: 10, y: 0, w: 30, h: 20,\n      },\n      {\n        x: 60, y: 0, w: 50, h: 100,\n      }],\n    ];\n     */\n\n    const automataConfig = automata.config;\n    this.boxConfig = {\n      MIN_WIDTH: 1,\n      MAX_WIDIH: Math.floor(automataConfig.size / 10),\n      MIN_HEIGHT: 10,\n      MAX_HEIGHT: 100,\n      MAX_GAP: Math.floor(automataConfig.size / 10),\n      MAX_ROW: 12,\n    };\n    const boxList = [];\n    for (const [r, gridRow] of this.automata.grid.entries()) {\n      const row = {\n        startingTheta: 0,\n        omega: 0.0,\n        alpha: 0.0,\n        cumulativeArea: 0.0,\n        boxRow: [],\n      };\n      let lastEndingX = 0;\n      for (const [c, { val, len, begin }] of gridRow.entries()) {\n        if (val === 0) {\n          // empty\n          lastEndingX += this.boxConfig.MIN_WIDTH;\n        } else if (begin) {\n          const box = {\n            x: lastEndingX + this.random.random_num(0, this.boxConfig.MAX_GAP),\n            y: this.random.random_num(0, this.boxConfig.MIN_HEIGHT),\n            w: len,\n            h: this.random.random_num(\n              this.boxConfig.MIN_HEIGHT,\n              this.boxConfig.MAX_HEIGHT\n            ),\n            gapAfter:\n              c === gridRow.length - 1\n                ? this.random.random_num(0, this.boxConfig.MAX_GAP)\n                : 0,\n            color: this.paletteColors[val],\n            radiusDelta: 0,\n            radiusV: 0,\n            radiusA: 0,\n            shown: true,\n            idx: r * this.automata.config.size + c,\n          };\n          lastEndingX = box.x + box.w + box.gapAfter;\n          row.cumulativeArea += box.w * box.h;\n          row.boxRow.push(box);\n        }\n      }\n      row.omega = lerp(\n        0,\n        0.01,\n        row.cumulativeArea / (lastEndingX * this.boxConfig.MAX_HEIGHT)\n      );\n      boxList.push(row);\n    }\n    this.boxList = boxList;\n    this.currRow = 0;\n    console.log(boxList);\n  }\n\n  setDim(width, height) {\n    this.context.fillStyle = this.palette[1];\n    this.width = width;\n    this.height = height;\n  }\n\n  getScaleParam(width, height) {\n    const DIM = Math.min(width, height);\n    const M = DIM / DEFAULT_SIZE;\n    const availableHeight = (0.8 * DEFAULT_SIZE) / 2.0;\n    const CELL_SIZE_HEIGHT = availableHeight / this.boxConfig.MAX_ROW;\n    const BASE_RADIUS = DEFAULT_SIZE / 2.0 - availableHeight;\n\n    const scale = width / height <= 1 ? width : height;\n\n    return {\n      CELL_SIZE_HEIGHT,\n      M,\n      scale,\n      DIM,\n      BASE_RADIUS,\n    };\n  }\n\n  render(width, height) {\n    const { CELL_SIZE_HEIGHT, M, DIM, scale, BASE_RADIUS } = this.getScaleParam(\n      width,\n      height\n    );\n\n    this.context.setTransform(1, 0, 0, 1, 0, 0);\n    this.context.clearRect(0, 0, width, height);\n\n    // set background\n    this.context.fillStyle = this.backgroundColor;\n    this.context.fillRect(0, 0, width, height);\n\n    this.context.translate(width / 2, height / 2);\n\n    const drawBox = (thetaLeft, thetaRight, radiusTop, radiusBottom, color) => {\n      const p1 = [\n        Math.cos(thetaLeft) * radiusTop,\n        Math.sin(thetaLeft) * radiusTop,\n      ];\n      const p2 = [\n        Math.cos(thetaLeft) * radiusBottom,\n        Math.sin(thetaLeft) * radiusBottom,\n      ];\n      const p3 = [\n        Math.cos(thetaRight) * radiusBottom,\n        Math.sin(thetaRight) * radiusBottom,\n      ];\n      const p4 = [\n        Math.cos(thetaRight) * radiusTop,\n        Math.sin(thetaRight) * radiusTop,\n      ];\n      this.context.fillStyle = color;\n      this.context.beginPath();\n      this.context.moveTo(p1[0] * M, p1[1 * M]);\n      this.context.lineTo(p2[0] * M, p2[1] * M);\n      this.context.arc(0, 0, radiusBottom * M, thetaLeft, thetaRight);\n      this.context.lineTo(p4[0] * M, p4[1] * M);\n      this.context.arc(0, 0, radiusTop * M, thetaRight, thetaLeft, true);\n      this.context.closePath();\n      this.context.fill();\n    };\n\n    for (const [r, rowData] of this.boxList\n      .slice(this.currRow, this.currRow + this.boxConfig.MAX_ROW)\n      .entries()) {\n      let totalLen = 0;\n      for (const [c, box] of rowData.boxRow.entries()) {\n        totalLen = Math.max(totalLen, box.x + box.w + box.gapAfter);\n      }\n\n      const currRadius =\n        (this.boxConfig.MAX_ROW - r - 1) * CELL_SIZE_HEIGHT + BASE_RADIUS * 0.6;\n      for (const [c, box] of rowData.boxRow.entries()) {\n        if (this.activeNoteIdx === box.idx) {\n          // make it fly away\n          if (box.radiusV === 0) {\n            box.radiusV = 5;\n          }\n        }\n        box.radiusDelta += box.radiusV;\n\n        const thetaLeft = (Math.PI * 2 * box.x) / totalLen;\n        const thetaRight = (Math.PI * 2 * (box.x + box.w)) / totalLen;\n\n        const radiusTop =\n          currRadius +\n          lerp(\n            0,\n            CELL_SIZE_HEIGHT,\n            ((box.y + box.h) * 1.0) / this.boxConfig.MAX_HEIGHT\n          );\n        const radiusBottom =\n          currRadius +\n          lerp(0, CELL_SIZE_HEIGHT, (box.y * 1.0) / this.boxConfig.MAX_HEIGHT);\n\n        drawBox(\n          rowData.startingTheta + thetaLeft,\n          rowData.startingTheta + thetaRight,\n          1.5 * box.radiusDelta + radiusTop,\n          box.radiusDelta + radiusBottom,\n          box.color\n        );\n      }\n\n      rowData.startingTheta += rowData.omega;\n    }\n  }\n\n  setActiveNode(idx) {\n    this.activeNoteIdx = idx;\n    //console.log(idx);\n  }\n}\n\nexport default Renderer;\n","export const randomIntBetween = (min, max) => window.random.random_int(min, max);\n\nexport const isNumeric = (value) => !isNaN(value - parseFloat(value));\n\nexport const randomFromArray = (array) => array[randomIntBetween(0, array.length - 1)];\n\nexport const coinToss = () => Math.floor(window.random.random_num(0,1) * 2);\n\nexport const shuffleArray = (array) => {\n  let counter = array.length;\n\n  // While there are elements in the array\n  while (counter > 0) {\n    // Pick a random index\n    const index = Math.floor(window.random.random_num(0,1) * counter);\n\n    // Decrease counter by 1\n    counter--;\n\n    // And swap the last element with it\n    const temp = array[counter];\n    array[counter] = array[index];\n    array[index] = temp;\n  }\n\n  return array;\n};\n\nexport const runFunctionUntilCheckPasses = (fn, check, isDone, dispatch, getState) => {\n  if (isDone) return;\n  const promise = fn();\n  return promise.then((data) => runFunctionUntilCheckPasses(fn, check, check(dispatch, getState, data), dispatch));\n};\n","import * as utils from './utils';\n\nconst roots = ['C', 'C#', 'D', 'Eb', 'E', 'F', 'F#', 'G', 'Ab', 'A', 'Bb', 'B'];\n\nexport const scales = {\n  Major: [2, 2, 1, 2, 2, 2],\n  Minor: [2, 1, 2, 2, 1, 2],\n  HarmonicMinor: [2, 1, 2, 2, 1, 3],\n  MelodicMinor: [2, 1, 2, 2, 2, 2],\n  PentatonicMajor: [2, 2, 3, 2],\n  PentatonicMinor: [3, 2, 2, 3],\n  PentatonicBlues: [3, 2, 1, 1],\n  PentatonicNeutral: [2, 3, 2],\n  Ionian: [2, 2, 1, 2, 2, 2],\n  Aeolian: [2, 1, 2, 2, 1, 2],\n  Dorian: [2, 1, 2, 2, 2, 1],\n  Mixolydian: [2, 2, 1, 2, 2, 1],\n  Phrygian: [1, 2, 2, 2, 1, 2],\n  Lydian: [2, 2, 2, 1, 2, 2],\n  Locrian: [1, 2, 2, 1, 2, 2],\n  Dominant7th: [2, 2, 1, 2, 2, 1],\n  Blues: [3, 2, 1, 1, 3],\n};\n\nexport const chordProgressions = [\n  [1, 5, 4, 4, 1, 5, 1, 5],\n  [1, 1, 1, 1, 4, 4, 1, 1, 5, 5, 1, 1],\n  [1, 6, 4, 5],\n  [1, 4, 7, 4],\n  [2, 5, 1],\n  [1, 5, 7, 4],\n  [6, 2, 5, 1],\n  [1, 5, 6, 3],\n  [1, 4, 2, 5],\n  [1, 5, 6, 3, 4, 1, 4, 5],\n];\n\nconst chords = [[1, 3, 5], [1, 3, 5, 7], [1, 3, 5, 9]];\n\nexport const getRandomRootNote = () => roots[utils.randomIntBetween(0, roots.length - 1)];\n\nexport const actualNotesFromScale = (tonic, scale, lowOctave, highOctave) => {\n  let notes = [];\n\n  // Get just the note value without octaves\n  if (!utils.isNumeric(tonic)) {\n    tonic = tonic.replace(/[0-9]/g, '');\n  } else {\n    tonic = Tone.Frequency(tonic)\n      .toNote()\n      .replace(/[0-9]/g, '');\n  }\n\n  for (let octave = lowOctave; octave <= highOctave; octave++) {\n    const octaveScale = scaleFromTonic(tonic + octave, scale);\n    notes = [...notes, ...octaveScale];\n  }\n  return notes;\n};\n\nexport const getRandomScaleType = () => {\n  const keys = Object.keys(scales);\n  const randomType = utils.randomFromArray(keys);\n  return { type: randomType, intervals: scales[randomType] };\n};\n\nexport const getChordProgressionForKey = (key, progression, chordTypesToUse) => {\n  const progressionRootNotes = chordFromScale(progression, key.root, key.type, key.chordOctave);\n\n  const progressionNotes = [];\n  for (let index = 0; index < progressionRootNotes.length; index++) {\n    const progressionIndex = progression[index];\n    const chord = chordTypesToUse[index];\n    progressionNotes.push(chordFromScale(chord, key.root, key.type, key.chordOctave, progressionIndex));\n  }\n  return progressionNotes;\n};\n\nexport const getRandomChordTypesForProgression = (progressionRootNotes) => {\n  const chordTypes = [];\n  for (let index = 0; index < progressionRootNotes.length; index++) {\n    chordTypes.push(utils.randomFromArray(chords));\n  }\n  return chordTypes;\n};\n\nexport const chordFromScale = (chordToneIndexes, tonic, scale, mainOctave, indexOffset = 0) => {\n  const fullScale = actualNotesFromScale(tonic, scale, mainOctave, mainOctave + 1);\n\n  const filteredScale = [];\n  for (const index of chordToneIndexes) {\n    filteredScale.push(fullScale[index + indexOffset - 1]);\n  }\n\n  return filteredScale;\n};\n\nexport const scaleFromTonic = (tonic, intervals) => {\n  const scale = [];\n  let note = Tone.Frequency(tonic);\n  scale.push(tonic);\n\n  for (const interval of intervals) {\n    note = note.transpose(interval);\n    scale.push(note.toFrequency());\n  }\n\n  return scale;\n};\n\nexport const rootNotesFromChordProgression = (chordProgression) => chordProgression\n  .map((chord) => Tone.Frequency(chord[0])\n    .toNote()\n    .replace(/[0-9]/g, ''))\n  .join(', ');\n\nexport const bassLineForChordProgression = (notesPerChord, chordProgression, key, octave) => {\n  const transposeSemiTones = -1 * octave * 12;\n  const notes = [];\n\n  for (let i = 0; i < chordProgression.length; i++) {\n    const chord = chordProgression[i];\n    const noteCountForChord = notesPerChord[i];\n    const chordRoot = Tone.Frequency(chord[0]).transpose(transposeSemiTones);\n    const scaleForCurrentChord = actualNotesFromScale(key.root, key.type, octave, octave);\n\n    const notesForChord = [chordRoot];\n    for (let i = 0; i < noteCountForChord - 1; i++) {\n      notesForChord.push(utils.randomFromArray(scaleForCurrentChord));\n    }\n    notes.push(notesForChord);\n  }\n\n  return notes;\n};\n\nexport const smoothBassLineForChordProgression = (notesPerChord, chordProgression, key, octave) => {\n  const transposeSemiTones = -1 * octave * 12;\n  const notes = [];\n\n  for (let i = 0; i < chordProgression.length; i++) {\n    const chord = chordProgression[i];\n    const noteCountForChord = notesPerChord[i];\n    const chordRoot = Tone.Frequency(chord[0]).transpose(transposeSemiTones);\n    const scaleForCurrentChord = actualNotesFromScale(key.root, key.type, octave, octave);\n\n    const notesForChord = [chordRoot];\n    let previousNoteIndex = 0;\n    for (let i = 0; i < noteCountForChord - 1; i++) {\n      // get a note not too far away from the last\n      const newNote = utils.randomIntBetween(Math.max(previousNoteIndex - 2, 0), Math.min(previousNoteIndex + 2, scaleForCurrentChord.length));\n      notesForChord.push(scaleForCurrentChord[newNote]);\n\n      previousNoteIndex = newNote;\n    }\n    notes.push(notesForChord);\n  }\n\n  return notes;\n};\n\nexport const motifForChordProgression = (notesPerChord, chordProgression, key, octave) => {\n  const notes = [];\n\n  for (let i = 0; i < chordProgression.length; i++) {\n    const noteCountForChord = notesPerChord[i];\n    const scaleForCurrentChord = actualNotesFromScale(key.root, key.type, octave, octave);\n    const notesForChord = [];\n    let previousNoteIndex = 0;\n    for (let i = 0; i < noteCountForChord; i++) {\n      // get a note not too far away from the last\n      const newNote = utils.randomIntBetween(Math.max(previousNoteIndex - 2, 0), Math.min(previousNoteIndex + 2, scaleForCurrentChord.length));\n      notesForChord.push(scaleForCurrentChord[newNote]);\n\n      previousNoteIndex = newNote;\n    }\n    notes.push(notesForChord);\n  }\n\n  return notes;\n};\n\nexport const melodyForChordProgression = (automata, chordProgressionBars, chordProgression, key) => {\n    // generate final sequence\n    const mainMelodySequence = [];\n\n    const melodyOctave = key.chordOctave + 1;\n    const transposeSemiTones = melodyOctave - key.chordOctave * 12;\n\n    for(let i = 0; i < automata.config.size * automata.config.timestamps; i+=1) {\n      const chunkIdx = Math.floor(i / (8 * chordProgressionBars))\n      const chord = chordProgression[chunkIdx % chordProgression.length]\n      const chordRoot = Tone.Frequency(chord[0]).transpose(transposeSemiTones);\n      const chordRootToNote = Tone.Frequency(chordRoot).toNote();\n      const scaleForCurrentChord = actualNotesFromScale(chordRootToNote, key.type, melodyOctave, melodyOctave+1);\n      const cell = automata.getCell(i);\n      mainMelodySequence.push({\n          idx: i,\n          begin: cell.begin,\n          val: cell.val,\n          note: scaleForCurrentChord[cell.val - 1],\n          duration: cell.begin && Tone.Time('8n').toSeconds() * cell.len\n      })\n    }\n\n  //debugger\n  return mainMelodySequence;\n};\n","export const addChordProgression = (startTime, chordProgression, instrument, noteLength, interval, shouldLoop, visCallback) => {\n  const loop = new Tone.Loop(((time) => {\n    // Take first chord\n    const currentChord = chordProgression.shift();\n    // add chord to back of queue\n    chordProgression.push(currentChord);\n    // play it\n    instrument.triggerAttackRelease(currentChord, noteLength, time);\n  }), interval);\n\n  loop.loop = shouldLoop;\n  loop.start(startTime);\n  return loop;\n};\n\nexport const addDrums = (startTime, note, instrument, pattern, probability, shouldLoop) => {\n  const sequencer = new Tone.Sequence(\n    ((time, hit) => {\n      if (hit === 1) {\n        instrument.triggerAttackRelease(note, '16n', time);\n      }\n    }),\n    pattern,\n    '16n',\n  );\n  sequencer.probability = probability;\n  sequencer.loop = shouldLoop;\n  sequencer.start(startTime);\n\n  return sequencer;\n};\n\nexport const addSoloPart = (startTime, instrument, pattern, visCallback) => {\n  const sequencer = new Tone.Sequence(\n    ((time, {idx, begin, val, note, duration}) => {\n      if (val > 0 && begin) {\n        instrument.triggerAttackRelease(note, duration, time);\n      }\n      Tone.Draw.schedule(() => {\n      // the callback synced to the animation frame at the given time\n        visCallback(idx);\n      }, time);\n    }),\n    pattern,\n    '8n',\n  );\n  sequencer.loop = false;\n  sequencer.start(startTime);\n  return sequencer;\n};\n\nexport const addRepeatingSoloPart = (startTime, notes, instrument, noteLength, patterns, repeatTimes, shouldLoop) => {\n  const expandedSequence = [];\n  for (const section of notes) {\n    for (let ri = 0; ri < repeatTimes; ri++) {\n      for (let ni = 0; ni < section.length; ni++) {\n        const note = section[ni];\n        expandedSequence.push(note);\n      }\n    }\n  }\n\n  const expandedPattern = [];\n  for (const section of patterns) {\n    for (let ri = 0; ri < repeatTimes; ri++) {\n      for (let ni = 0; ni < section.length; ni++) {\n        const rythym = section[ni];\n        expandedPattern.push(rythym);\n      }\n    }\n  }\n\n  const sequencer = new Tone.Sequence(\n    ((time, hit) => {\n      if (hit === 1) {\n        const note = expandedSequence.shift();\n        expandedSequence.push(note);\n        instrument.triggerAttackRelease(note, noteLength, time);\n      }\n    }),\n    expandedPattern,\n    '16n',\n  );\n\n  sequencer.loop = shouldLoop;\n  sequencer.start(startTime);\n  return sequencer;\n};\n\nexport function Part(mutationPayload, mutationFunction) {\n  this.mutationFunction = mutationFunction;\n  this.mutate = function () {\n    this.mutationFunction(mutationPayload);\n  };\n}","class Instrument {\n  constructor(synth, volume, connect = false) {\n    this.synth = synth;\n    //this.synth.connect(Tone.getDestination())\n    if (connect) {\n      this.synth.toDestination();\n    }\n    this.synth.volume.value = volume;\n  }\n  triggerAttackRelease(note, duration, time) {\n    try {\n      if (note) {\n        this.synth.triggerAttackRelease(note, duration, time);\n      } else {\n        this.synth.triggerAttackRelease(duration, time);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n};\n\nexport default Instrument;","import Instrument from './instrument';\n\nexport const subBass = () => squareBass(2);\n\nexport const softSquareBass = () => squareBass(6);\n\nexport class FastAttackSquare extends Instrument {\n  constructor() {\n    super(\n      new Tone.Synth({\n        oscillator: {\n          type: 'square4',\n        },\n        envelope: {\n          attack: 0.02,\n          decay: 0,\n          sustain: 1,\n          release: 1,\n        },\n      }),\n      5,\n      true\n    );\n  }\n}\n\nexport class SawTooth extends Instrument {\n  constructor() {\n    super(\n      new Tone.Synth({\n        oscillator: {\n          type: 'sawtooth',\n        },\n        envelope: {\n          attack: 0.02,\n          decay: 0.2,\n          sustain: 0.8,\n          release: 1,\n        },\n      }),\n      18,\n      true\n    );\n  }\n}\n\nexport const squareBass = (harmonics) => {\n  const bassSynth = new Tone.Synth({\n    oscillator: {\n      type: `square${harmonics}`,\n    },\n    envelope: {\n      attack: '0:2',\n      decay: 0.1,\n      sustain: 1,\n      release: 3,\n    },\n  }).toDestination();\n  bassSynth.volume.value = 24;\n  return bassSynth;\n};\n","import * as bass from './bass';\nimport Instrument from './instrument';\n\nexport class SimpleSine extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.Synth), 5, true);\n    this.synth.set({\n      oscillator: {\n        type: 'fatsine',\n      },\n      envelope: {\n        attack: 0.2,\n        decay: 0.1,\n        sustain: 1,\n        release: 1,\n      },\n      portamento: 0.2,\n    });\n    //this.synth.send('reverb', -12);\n  }\n}\n\nexport class SoftSquareFm extends Instrument {\n  constructor(volume = 24) {\n    super(new Tone.PolySynth(Tone.Synth), volume);\n    this.synth.set({\n      oscillator: {\n        type: 'fmsquare2',\n      },\n      envelope: {\n        attack: 0.2,\n        decay: 0.1,\n        sustain: 1,\n        release: 1,\n      },\n      portamento: 0,\n    });\n    this.synth.volume.value = 8;\n\n    const reverb = new Tone.Freeverb().toDestination();\n    const filter = new Tone.Filter(400, 'lowpass');\n    //this.synth.send('reverb', -12);\n    this.synth.chain(filter, reverb);\n  }\n}\n\nexport const SwirlySawtoothChorusWithSubBass = function() {\n  try {\n  const chordSynth = new Tone.PolySynth(Tone.Synth);\n  chordSynth.set({\n    oscillator: {\n      type: \"fatsawtooth\"\n    },\n    envelope: {\n      attack: 0.2,\n      decay: 0.1,\n      sustain: 1,\n      release: 1\n    },\n    portamento: 0.2\n  });\n  const filter = new Tone.Filter(250, \"lowpass\").toMaster();\n\n  const lfo = new Tone.LFO(\"8m\", 550, 1500);\n  lfo.start();\n  lfo.connect(filter.frequency);\n\n  const chorus = new Tone.Chorus(\"1:0:0\", 2.5, 1);\n  const reverb = new Tone.Freeverb();\n\n  chordSynth.chain(chorus, reverb, filter);\n  //chordSynth.chain(chorus, filter);\n\n  //Add bass for the root note\n  const bassSynth = bass.subBass();\n  bassSynth.volume.value = bassSynth.volume.value - 22;\n  chordSynth.volume.value = 0;\n  this.triggerAttackRelease = (chord, duration, time) => {\n    const lowRootNote = Tone.Frequency(chord[0]).transpose(-12);\n    chordSynth.triggerAttackRelease(chord, duration, time);\n    bassSynth.triggerAttackRelease(lowRootNote, duration, time);\n  };\n  } catch(err) {\n    console.log(err)\n  }\n}; ","import Instrument from './instrument';\n\nexport class KickDrum extends Instrument {\n  constructor() {\n    super(new Tone.MembraneSynth({ pitchDecay: 0.1 }), 14, true);\n  }\n}\nexport class HiHat extends Instrument {\n  constructor() {\n    super(new Tone.MetalSynth(), 14, true);\n    const filter = new Tone.Filter(8000, 'highpass').toDestination();\n    const freeverb = new Tone.Freeverb()\n    this.synth.chain(filter);\n  }\n}\n\nexport class Slap extends Instrument {\n  constructor() {\n    super(\n      new Tone.NoiseSynth({\n        noise: {\n          type: 'white',\n          playbackRate: 5,\n        },\n        envelope: {\n          attack: 0.001,\n          decay: 0.3,\n          sustain: 0,\n          release: 0.3,\n        },\n      }),\n      5,\n      true\n    );\n\n   // const filter = new Tone.Filter(500, 'lowpass').toDestination();\n    //this.synth.connect(filter);\n  }\n}\n\nexport class OpenHat extends Instrument {\n  constructor(frequency) {\n    super(\n      new Tone.MetalSynth({\n        frequency,\n      }),\n      10,\n      true\n    );\n  }\n  setFrequency(frequency) {\n    this.synth.set({frequency})\n  }\n}\n\nexport class Shaker extends Instrument {\n  constructor(frequency) {\n    super(\n      new Tone.MetalSynth({\n        envelope: {\n          attack: 0.1,\n          decay: 0.4,\n          release: 0.3,\n        },\n        frequency,\n        harmonicity: 5.1,\n        modulationIndex: 64,\n        resonance: 3000,\n        octaves: 1.5,\n      }),\n      0,\n      true\n    );\n  }\n}\n\nexport class DampenedOpenHat extends Instrument {\n  constructor(frequency) {\n    super(\n      new Tone.MetalSynth({\n        frequency,\n        // harmonicity: 5.1,\n        modulationIndex: 32,\n        resonance: 1000,\n        octaves: 1.5,\n      }),\n      0,\n      true\n    );\n  }\n}\n","import Instrument from './instrument';\n\nexport class SimpleSine extends Instrument {\n  constructor() {\n    super(\n      new Tone.Synth({\n        oscillator: {\n          type: 'sine',\n        },\n        envelope: {\n          attack: 0.02,\n          decay: 0,\n          sustain: 1,\n          release: 1,\n        },\n      }),\n      40,\n      true\n    );\n  }\n}\n","// http://tonejs.github.io/Presets/\nimport Instrument from \"./instrument\";\n\nexport class Tiny extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.Synth), 24, true);\n    this.synth.set({\n      harmonicity: 2,\n      oscillator: {\n        type: \"amsine2\",\n        modulationType: \"sine\",\n        harmonicity: 1.01,\n      },\n      envelope: {\n        attack: 0.006,\n        decay: 4,\n        sustain: 0.04,\n        release: 1.2,\n      },\n      modulation: {\n        volume: 13,\n        type: \"amsine2\",\n        modulationType: \"sine\",\n        harmonicity: 12,\n      },\n      modulationEnvelope: {\n        attack: 0.006,\n        decay: 0.2,\n        sustain: 0.2,\n        release: 0.4,\n      },\n    });\n    this.synth.volume.value = 10;\n\n    //this.synth.send('reverb', -12);\n  }\n}\n\n\nexport class AM_Tiny extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.AMSynth), 24, true);\n    this.synth.set({\n      harmonicity: 2,\n      oscillator: {\n        type: \"amsine2\",\n        modulationType: \"sine\",\n        harmonicity: 1.01,\n      },\n      envelope: {\n        attack: 0.006,\n        decay: 4,\n        sustain: 0.04,\n        release: 1.2,\n      },\n      modulation: {\n        volume: 13,\n        type: \"amsine2\",\n        modulationType: \"sine\",\n        harmonicity: 12,\n      },\n      modulationEnvelope: {\n        attack: 0.006,\n        decay: 0.2,\n        sustain: 0.2,\n        release: 0.4,\n      },\n    });\n    //this.synth.volume.value = 24;\n\n    //this.synth.send('reverb', -12);\n  }\n}\n\nexport class FM_ElectricCello extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.FMSynth), 20, true);\n    this.synth.set({\n      harmonicity: 3.01,\n      modulationIndex: 14,\n      oscillator: {\n        type: \"triangle\",\n      },\n      envelope: {\n        attack: 0.2,\n        decay: 0.3,\n        sustain: 0.9,\n        release: 1.2,\n      },\n      modulation: {\n        type: \"square\",\n      },\n      modulationEnvelope: {\n        attack: 0.01,\n        decay: 0.5,\n        sustain: 0.2,\n        release: 0.1,\n      },\n    });\n    //this.synth.volume.value = 10;\n\n    //this.synth.send('reverb', -12);\n  }\n}\n\n\nexport class Kalimba extends Instrument {\n  constructor() {\n    super(\n      new Tone.FMSynth({\n        harmonicity: 8,\n        modulationIndex: 2,\n        oscillator: {\n          type: \"sine\",\n        },\n        envelope: {\n          attack: 0.001,\n          decay: 2,\n          sustain: 0.1,\n          release: 2,\n        },\n        modulation: {\n          type: \"square\",\n        },\n        modulationEnvelope: {\n          attack: 0.002,\n          decay: 0.2,\n          sustain: 0,\n          release: 0.2,\n        },\n      }),\n      18,\n      true\n    );\n  }\n}\n\nexport class BassGuitar extends Instrument {\n  constructor() {\n    super(\n      new Tone.MonoSynth({\n        oscillator: {\n          type: \"fmsquare5\",\n          modulationType: \"triangle\",\n          modulationIndex: 2,\n          harmonicity: 0.501,\n        },\n        filter: {\n          Q: 1,\n          type: \"lowpass\",\n          rolloff: -24,\n        },\n        envelope: {\n          attack: 0.01,\n          decay: 0.1,\n          sustain: 0.4,\n          release: 2,\n        },\n        filterEnvelope: {\n          attack: 0.01,\n          decay: 0.1,\n          sustain: 0.8,\n          release: 1.5,\n          baseFrequency: 50,\n          octaves: 4.4,\n        },\n      }),\n      2,\n      //true\n    );\n    const freeverb = new Tone.Freeverb().toDestination()\n    this.synth.connect(freeverb)\n  }\n}\n\nexport class Bassy extends Instrument {\n  constructor() {\n    super(\n      new Tone.MonoSynth({\n        portamento: 0.08,\n        oscillator: {\n          partials: [2, 1, 3, 2, 0.4],\n        },\n        filter: {\n          Q: 4,\n          type: \"lowpass\",\n          rolloff: -48,\n        },\n        envelope: {\n          attack: 0.04,\n          decay: 0.06,\n          sustain: 0.4,\n          release: 1,\n        },\n        filterEnvelope: {\n          attack: 0.01,\n          decay: 0.1,\n          sustain: 0.6,\n          release: 1.5,\n          baseFrequency: 50,\n          octaves: 3.4,\n        },\n      }),\n      13,\n      true\n    );\n  }\n}\nexport class Coolguy extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.MonoSynth), 24, true);\n    this.synth.set({\n      oscillator: {\n        type: \"pwm\",\n        modulationFrequency: 1,\n      },\n      filter: {\n        Q: 6,\n        rolloff: -24,\n      },\n      envelope: {\n        attack: 0.025,\n        decay: 0.3,\n        sustain: 0.9,\n        release: 2,\n      },\n      filterEnvelope: {\n        attack: 0.245,\n        decay: 0.131,\n        sustain: 0.5,\n        release: 2,\n        baseFrequency: 20,\n        octaves: 7.2,\n        exponent: 2,\n      },\n    });\n    this.synth.volume.value = 10;\n\n    //this.synth.send('reverb', -12);\n  }\n}\n\nexport class Mono_Pizz extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.MonoSynth), 10, true);\n    this.synth.set({\n      oscillator: {\n        type: \"sawtooth\",\n      },\n      filter: {\n        Q: 3,\n        type: \"highpass\",\n        rolloff: -12,\n      },\n      envelope: {\n        attack: 0.01,\n        decay: 0.3,\n        sustain: 0,\n        release: 0.9,\n      },\n      filterEnvelope: {\n        attack: 0.01,\n        decay: 0.1,\n        sustain: 0,\n        release: 0.1,\n        baseFrequency: 800,\n        octaves: -1.2,\n      },\n    });\n\n    //this.synth.send('reverb', -12);\n  }\n}\n\nexport class Bah extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.MonoSynth), 30, true);\n    this.synth.set({\n      oscillator: {\n        type: \"sawtooth\",\n      },\n      filter: {\n        Q: 2,\n        type: \"bandpass\",\n        rolloff: -24,\n      },\n      envelope: {\n        attack: 0.01,\n        decay: 0.1,\n        sustain: 0.2,\n        release: 0.6,\n      },\n      filterEnvelope: {\n        attack: 0.02,\n        decay: 0.4,\n        sustain: 1,\n        release: 0.7,\n        releaseCurve: \"linear\",\n        baseFrequency: 20,\n        octaves: 5,\n      },\n    });\n  }\n}\n\nexport class AlienChorus extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.Synth), 16, true);\n    this.synth.set({\n      volume: -15,\n      oscillator: {\n        type: \"fatsine4\",\n        spread: 60,\n        count: 10,\n      },\n      envelope: {\n        attack: 0.4,\n        decay: 0.01,\n        sustain: 1,\n        attackCurve: \"sine\",\n        releaseCurve: \"sine\",\n        release: 0.4,\n      },\n    });\n\n    //this.synth.send('reverb', -12);\n  }\n}\n\nexport class DelicateWindPart extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.Synth), 24, true);\n    this.synth.set({\n      portamento: 0.0,\n      oscillator: {\n        type: \"square4\",\n      },\n      envelope: {\n        attack: 2,\n        decay: 1,\n        sustain: 0.2,\n        release: 2,\n      },\n    });\n    this.synth.volume.value = 10;\n\n    //this.synth.send('reverb', -12);\n  }\n}\n\nexport class TreeTrunk extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.Synth), 24, true);\n    this.synth.set({\n      oscillator: {\n        type: \"sine\",\n      },\n      envelope: {\n        attack: 0.001,\n        decay: 0.1,\n        sustain: 0.1,\n        release: 1.2,\n      },\n    });\n    //this.synth.volume.value = 10;\n\n    //this.synth.send('reverb', -12);\n  }\n}\n\nexport class Marimba extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.Synth), 24, true);\n    this.synth.set({\n      oscillator: {\n        partials: [1, 0, 2, 0, 3],\n      },\n      envelope: {\n        attack: 0.001,\n        decay: 1.2,\n        sustain: 0,\n        release: 1.2,\n      },\n    });\n    this.synth.volume.value = 10;\n\n    //this.synth.send('reverb', -12);\n  }\n}\n\nexport class Gravel extends Instrument {\n  constructor() {\n    super(new Tone.PolySynth(Tone.NoiseSynth), 24, true);\n    this.synth.set({\n      noise: {\n        type: \"pink\",\n        playbackRate: 0.1,\n      },\n      envelope: {\n        attack: 0.5,\n        decay: 2,\n        sustain: 0.5,\n        release: 3,\n      },\n    });\n    this.synth.volume.value = 10;\n\n    //this.synth.send('reverb', -12);\n  }\n}\n","import * as bass from \"./bass\";\nimport * as pads from \"./pads\";\nimport * as drums from \"./drums\";\nimport * as lead from \"./lead\";\nimport * as presets from \"./presets\";\n\nexport default { bass, pads, drums, lead, presets };\n","import * as utils from './utils';\n\nconst kicks = [\n  [1, 0, 0, 0],\n  [1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0],\n  [1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0],\n  [1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0],\n  [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0],\n];\nconst snares = [\n  [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0],\n];\n\nconst hiHats = [\n  [0, 1, 0, 0],\n  [0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1],\n  [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0],\n  [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1],\n  [0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0],\n];\nconst bass = [\n  [1, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n  [1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n  [1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0],\n  [1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0],\n  [1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],\n  [1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],\n  [1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n  [1, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0],\n  [1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0],\n];\nconst shakers = [\n  [1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0],\n  [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0],\n  [1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0],\n  [1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0],\n];\n\nconst openHats = [\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n  [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n];\n\nconst motifs = [[0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0]];\n\nexport const randomMotifRythym = () => utils.randomFromArray(motifs);\n\nexport const randomHiHatRythym = () => utils.randomFromArray(hiHats);\n\nexport const randomSnareRythym = () => utils.randomFromArray(snares);\n\nexport const randomKickRythym = () => utils.randomFromArray(kicks);\n\nexport const randomBassRythym = () => utils.randomFromArray(bass);\n\nexport const randomShakerRythym = () => utils.randomFromArray(shakers);\n\nexport const randomOpenHatRythym = () => utils.randomFromArray(openHats);\n","import * as scales from \"./scales\";\nimport * as parts from \"./parts\";\nimport instruments from \"./instruments\";\nimport * as rythyms from \"./rythyms\";\nimport * as utils from \"./utils\";\n\nclass Song {\n  constructor() {\n    Tone.Master.volume.value = -32;\n\n    // setup instruments\n    this.possibleChordPads = [\n      new instruments.pads.SimpleSine(),\n      new instruments.pads.SwirlySawtoothChorusWithSubBass(),\n      new instruments.presets.DelicateWindPart(),\n      new instruments.presets.TreeTrunk(),\n    ];\n    this.possibleBassInstruments = [\n      new instruments.bass.FastAttackSquare(),\n      new instruments.presets.Bassy(),\n    ];\n    this.possibleMotifInstruments = [\n      new instruments.presets.AM_Tiny(),\n      new instruments.presets.Kalimba(),\n      //new instruments.presets.Harmonics(),\n      new instruments.presets.FM_ElectricCello(),\n      new instruments.presets.BassGuitar(),\n      new instruments.presets.Bah(),\n      //new instruments.presets.Coolguy(),\n      //new instruments.presets.Mono_Pizz(),\n      //new instruments.presets.DelicateWindPart(),\n    ];\n    this.drumInstruments = {\n      KickDrum: new instruments.drums.KickDrum(),\n      Slap: new instruments.drums.Slap(),\n      HiHat: new instruments.drums.HiHat(),\n      Shaker: new instruments.drums.Shaker(Tone.Frequency('C5').toFrequency()),\n      OpenHat: new instruments.drums.OpenHat(Tone.Frequency('C5').toFrequency())\n    }\n  }\n\n  generate(automata, visCallback) {\n    const keyType = scales.getRandomScaleType();\n    const songKey = {\n      root: scales.getRandomRootNote(),\n      type: keyType.intervals,\n      typeName: keyType.type,\n      chordOctave: utils.randomIntBetween(2, 3),\n    };\n\n    const progressionIntervals = utils.randomFromArray(\n      scales.chordProgressions\n    );\n    const chordTypesToUseInProgression =\n      scales.getRandomChordTypesForProgression(progressionIntervals);\n    const chordProgression = scales.getChordProgressionForKey(\n      songKey,\n      progressionIntervals,\n      chordTypesToUseInProgression\n    );\n    const possibleChordSectionLengths = [1, 2];\n    const chordProgressionBars = utils.randomFromArray(\n      possibleChordSectionLengths\n    );\n    \n    const kickRythym = rythyms.randomKickRythym();\n    const hihatRythym = rythyms.randomHiHatRythym();\n    \n    const shakerRythym = rythyms.randomShakerRythym();\n    const openHatRythym = rythyms.randomOpenHatRythym();\n    const snareRythym = rythyms.randomSnareRythym();\n\n    const bassLinePatterns = [];\n    for (let i = 0; i < chordProgression.length; i++) {\n      bassLinePatterns.push(rythyms.randomBassRythym());\n    }\n    const motifPatterns = [];\n    for (let i = 0; i < chordProgression.length; i++) {\n      motifPatterns.push(rythyms.randomMotifRythym());\n    }\n    const mainMelodyPatterns = scales.melodyForChordProgression(\n      automata,\n      chordProgressionBars,\n      chordProgression,\n      songKey\n    );\n\n    const notesPerChord = [];\n    for (const bassLinePattern of bassLinePatterns) {\n      notesPerChord.push(bassLinePattern.filter((hit) => hit === 1).length);\n    }\n    const bassOctave = songKey.chordOctave - 1;\n\n    const chordInstrument = utils.randomFromArray(this.possibleChordPads);\n    const bassInstrument = utils.randomFromArray(\n      this.possibleBassInstruments\n    );\n    const motifInstrument = utils.randomFromArray(\n      this.possibleMotifInstruments\n    );\n    const mainMelodyInstrument = utils.randomFromArray(\n      this.possibleMotifInstruments\n    );\n    const openHatFrequency = Tone.Frequency(songKey.root + \"3\").toFrequency();\n    const generatedSettings = {\n      bpm: utils.randomIntBetween(70, 90),\n      swing: window.random.random_num(0, 1),\n      key: `${songKey.root} (${songKey.typeName})`,\n      chordOctave: songKey.chordOctave,\n      chordProgression: progressionIntervals,\n      chordProgressionBars,\n      chordTypesToUseInProgression,\n      chordProgressionNotes:\n        scales.rootNotesFromChordProgression(chordProgression),\n      chordInstrument: chordInstrument,\n      bassInstrument: bassInstrument,\n      motifInstrument: motifInstrument,\n      mainMelodyInstrument: mainMelodyInstrument,\n      mainMelodyPatterns,\n      bassLinePatterns,\n      kickRythym,\n      hihatRythym,\n      shakerRythym,\n      openHatRythym,\n      snareRythym\n    };\n    const changeRythym = (sequencer, newRythym) => {\n      const originalLength = sequencer.length;\n      newRythym.forEach((item, index) => {\n        sequencer.at(index, item);\n      });\n      const numberToRemove = originalLength - newRythym.length;\n      for (let i = numberToRemove; i > 0; i--) {\n        sequencer.remove(newRythym.length + i - 1);\n      }\n    };\n\n    parts.addDrums(\n      \"0:0:0\",\n      `${songKey.root}0`,\n      this.drumInstruments.KickDrum,\n      kickRythym,\n      1,\n      true\n    )\n\n    parts.addDrums(\n      \"0:0:0\",\n      undefined,\n      this.drumInstruments.Slap,\n      snareRythym,\n      1.0,\n      true\n    )\n\n   parts.addDrums(\n      \"0:0:0\",\n      undefined,\n      this.drumInstruments.HiHat,\n      hihatRythym,\n      0.9,\n      true\n    );\n\n    parts.addDrums(\n      \"0:0:0\",\n      undefined,\n      this.drumInstruments.Shaker,\n      shakerRythym,\n      0.8,\n      true\n    );\n\n    this.drumInstruments.OpenHat.setFrequency(Tone.Frequency(songKey.root + \"3\").toFrequency())\n    parts.addDrums(\n      \"0:0:0\",\n      undefined,\n      this.drumInstruments.OpenHat,\n      openHatRythym,\n      0.9,\n      true\n    );\n\n    parts.addChordProgression(\n      \"0:0:0\", chordProgression, chordInstrument, `${chordProgressionBars}m`, `${chordProgressionBars}m`, true\n    )\n\n  \n    parts.addRepeatingSoloPart(\n      \"0:0:0\",\n      scales.smoothBassLineForChordProgression(\n        notesPerChord,\n        chordProgression,\n        songKey,\n        bassOctave\n      ),\n      bassInstrument,\n      \"4n\",\n      bassLinePatterns,\n      chordProgressionBars,\n      true\n    );\n\n    /* const motifOctave = songKey.chordOctave + 1;\n    parts.addRepeatingSoloPart(\n      '0:0:0',\n      scales.motifForChordProgression(\n        notesPerChord,\n        chordProgression,\n        songKey,\n        motifOctave,\n      ),\n      motifInstrument,\n      1.3,\n      motifPatterns,\n      chordProgressionBars,\n      true,\n    ); */\n\n    parts.addSoloPart(\n      \"0:0:0\",\n      mainMelodyInstrument,\n      mainMelodyPatterns,\n      visCallback\n    );\n  \n    return generatedSettings\n  }\n}\n\nexport default Song;\n","import Song from '../synth/funkyDownTempo';\n\nclass Music {\n  constructor(automata, renderer) {\n    this.automata = automata;\n    this.renderer = renderer;\n    this.state = {\n      toneStarted: false,\n      playing: false,\n      rowIdx: 0,\n      colIdx: 0,\n    };\n    this.song = new Song()\n    this.visCallback = idx => {\n      this.renderer.setActiveNode(idx)\n      if (idx >= this.automata.config.timestamps * this.automata.config.size - 1) {\n        // after last one, stop\n        this.stop()\n      }\n    }\n    this.generatedSettings = this.song.generate(this.automata, this.visCallback)\n    console.log('setting generated')\n    console.log(this.generatedSettings)\n  }\n\n  async play() {\n    try {\n    console.log('play')\n    await Tone.start();\n    Tone.Transport.bpm.value = this.generatedSettings.bpm;\n    Tone.Transport.swing = this.generatedSettings.swing;\n\n    Tone.Transport.start();\n    console.log(this.generatedSettings);\n    this.state.playing = true\n    } catch(err) {\n      console.log('err', err)\n    }\n  }\n\n  async stop() {\n    await Tone.getContext().close();\n    this.state.playing = false;\n    \n  }\n\n  togglePlay() {\n    if (this.state.playing) {\n      this.stop();\n    } else {\n      this.play();\n    }\n  }\n}\n\nexport default Music;\n","import Automata from './automata';\nimport Random from './random';\nimport Renderer from './interceptors/renderer';\nimport Music from './interceptors/music';\n\nlet tmp = window.location.search.split('=')\nvar hashParam\nif (tmp.length == 2) {\n  hashParam = tmp[1]\n}\nlet tokenData = {\n  hash: hashParam || '0x95c138f8b54949c12d05105cfc01960fc496813cbc3495b277aeed748549631',\n};\n\nvar random = new Random(tokenData.hash);\nwindow.random = random\n\nlet automata = new Automata(16, 12, 8, 1, random);\nautomata.generate();\n\nconst W = window;\nconst D = document;\nconst canvas = D.body.appendChild(D.createElement('canvas'));\nconst context = canvas.getContext('2d');\nlet renderer = new Renderer(automata, context, random);\nlet music = new Music(automata, renderer);\n\nlet width; let height; let\n  pixelRatio;\n\n// setup gui\nconst gui = new dat.GUI({ autoPlace: true, width: 300 });\n\nlet id;\nconst draw = () => {\n  renderer.render(width, height);\n  gui.updateDisplay();\n  id = requestAnimationFrame(draw);\n};\n\nconst props = {\n  resetAnimation: async () => {\n    const genRanHex = (size) => [...Array(size)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\n    window.location.search = `hash=${genRanHex(64)}`;\n  },\n  hash: tokenData.hash,\n};\n// gui.add(props, 'hash').name('Token ID').listen();\ngui.add(props, 'resetAnimation')\n  .name('Randomize Hash');\n\ngui.show();\n\nconst resize = () => {\n  width = W.innerWidth;\n  height = W.innerHeight;\n  pixelRatio = W.devicePixelRatio;\n  canvas.width = ~~(width * pixelRatio);\n  canvas.height = ~~(height * pixelRatio);\n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  context.save();\n  context.scale(pixelRatio, pixelRatio);\n  context.restore();\n};\n\ncanvas.addEventListener('click', () => {\n  music.togglePlay();\n});\nW.addEventListener('resize', resize);\nresize();\ndraw();\n"],"sourceRoot":""}