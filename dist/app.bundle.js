!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=12)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(20);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(21).default,o=r(22);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){e.exports=r(16)},function(e,t,r){var n=r(17),o=r(18),a=r(10),c=r(19);e.exports=function(e,t){return n(e)||o(e,t)||a(e,t)||c()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(13),o=r(14),a=r(10),c=r(15);e.exports=function(e){return n(e)||o(e)||a(e)||c()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function r(e,t,r,n,o,a,c){try{var s=e[a](c),i=s.value}catch(e){return void r(e)}s.done?t(i):Promise.resolve(i).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var c=e.apply(t,n);function s(e){r(c,o,a,s,i,"next",e)}function i(e){r(c,o,a,s,i,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(9);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){!function(e){"use strict";var t=[{name:"frozen-rose",colors:["#29368f","#e9697b","#1b164d","#f7d996"],background:"#f2e8e4"},{name:"winter-night",colors:["#122438","#dd672e","#87c7ca","#ebebeb"],background:"#ebebeb"},{name:"saami",colors:["#eab700","#e64818","#2c6393","#eecfca"],background:"#e7e6e4"},{name:"knotberry1",colors:["#20342a","#f74713","#686d2c","#e9b4a6"],background:"#e5ded8"},{name:"knotberry2",colors:["#1d3b1a","#eb4b11","#e5bc00","#f29881"],background:"#eae2d0"},{name:"tricolor",colors:["#ec643b","#56b7ab","#f8cb57","#1f1e43"],background:"#f7f2df"},{name:"foxshelter",colors:["#ff3931","#007861","#311f27","#bab9a4"],background:"#dddddd"},{name:"hermes",colors:["#253852","#51222f","#b53435","#ecbb51"],background:"#eeccc2"},{name:"olympia",colors:["#ff3250","#ffb33a","#008c36","#0085c6","#4c4c4c"],stroke:"#0b0b0b",background:"#faf2e5"},{name:"byrnes",colors:["#c54514","#dca215","#23507f"],stroke:"#0b0b0b",background:"#e8e7d4"},{name:"butterfly",colors:["#f40104","#f6c0b3","#99673a","#f0f1f4"],stroke:"#191e36",background:"#191e36"},{name:"floratopia",colors:["#bf4a2b","#cd902a","#4e4973","#f5d4bc"],stroke:"#1e1a43",background:"#1e1a43"},{name:"verena",colors:["#f1594a","#f5b50e","#14a160","#2969de","#885fa4"],stroke:"#1a1a1a",background:"#e2e6e8"},{name:"florida_citrus",colors:["#ea7251","#ebf7f0","#02aca5"],stroke:"#050100",background:"#9ae2d3"},{name:"lemon_citrus",colors:["#e2d574","#f1f4f7","#69c5ab"],stroke:"#463231",background:"#f79eac"},{name:"yuma_punk",colors:["#f05e3b","#ebdec4","#ffdb00"],stroke:"#ebdec4",background:"#161616"},{name:"yuma_punk2",colors:["#f2d002","#f7f5e1","#ec643b"],stroke:"#19080e",background:"#f7f5e1"},{name:"moir",colors:["#a49f4f","#d4501e","#f7c558","#ebbaa6"],stroke:"#161716",background:"#f7f4ef"},{name:"sprague",colors:["#ec2f28","#f8cd28","#1e95bb","#fbaab3","#fcefdf"],stroke:"#221e1f",background:"#fcefdf"},{name:"bloomberg",colors:["#ff5500","#f4c145","#144714","#2f04fc","#e276af"],stroke:"#000",background:"#fff3dd"},{name:"revolucion",colors:["#ed555d","#fffcc9","#41b797","#eda126","#7b5770"],stroke:"#fffcc9",background:"#2d1922"},{name:"sneaker",colors:["#e8165b","#401e38","#66c3b4","#ee7724","#584098"],stroke:"#401e38",background:"#ffffff"},{name:"miradors",colors:["#ff6936","#fddc3f","#0075ca","#00bb70"],stroke:"#ffffff",background:"#020202"},{name:"kaffeprat",colors:["#BCAA8C","#D8CDBE","#484A42","#746B58","#9A8C73"],stroke:"#000",background:"#fff"},{name:"jrmy",colors:["#df456c","#ea6a82","#270b32","#471e43"],stroke:"#270b32",background:"#ef9198"},{name:"animo",colors:["#f6c103","#f6f6f6","#d1cdc7","#e7e6e5"],stroke:"#010001",background:"#f5f5f5"},{name:"book",colors:["#be1c24","#d1a082","#037b68","#d8b1a5","#1c2738","#c95a3f"],stroke:"#0e0f27",background:"#f5b28a"},{name:"juxtapoz",colors:["#20357e","#f44242","#ffffff"],stroke:"#000000",background:"#cfc398"},{name:"hurdles",colors:["#e16503","#dc9a0f","#dfe2b4","#66a7a6"],stroke:"#3c1c03",background:"#3c1c03"},{name:"ludo",colors:["#df302f","#e5a320","#0466b3","#0f7963"],stroke:"#272621",background:"#dedccd"},{name:"riff",colors:["#e24724","#c7c7c7","#1f3e7c","#d29294","#010203"],stroke:"#010203",background:"#f2f2f2"},{name:"san ramon",colors:["#4f423a","#f6a74b","#589286","#f8e9e2","#2c2825"],stroke:"#2c2825",background:"#fff"},{name:"one-dress",colors:["#1767D2","#FFFFFF","#F9AB00","#212121"],stroke:"#212121",background:"#fff"}].concat([{name:"rag-mysore",colors:["#ec6c26","#613a53","#e8ac52","#639aa0"],background:"#d5cda1"},{name:"rag-gol",colors:["#d3693e","#803528","#f1b156","#90a798"],background:"#f0e0a4"},{name:"rag-belur",colors:["#f46e26","#68485f","#3d273a","#535d55"],background:"#dcd4a6"},{name:"rag-bangalore",colors:["#ea720e","#ca5130","#e9c25a","#52534f"],background:"#f9ecd3"},{name:"rag-taj",colors:["#ce565e","#8e1752","#f8a100","#3ac1a6"],background:"#efdea2"},{name:"rag-virupaksha",colors:["#f5736a","#925951","#feba4c","#9d9b9d"],background:"#eedfa2"}],[{name:"retro",colors:["#69766f","#9ed6cb","#f7e5cc","#9d8f7f","#936454","#bf5c32","#efad57"]},{name:"retro-washedout",colors:["#878a87","#cbdbc8","#e8e0d4","#b29e91","#9f736c","#b76254","#dfa372"]},{name:"roygbiv-warm",colors:["#705f84","#687d99","#6c843e","#fc9a1a","#dc383a","#aa3a33","#9c4257"]},{name:"roygbiv-toned",colors:["#817c77","#396c68","#89e3b7","#f59647","#d63644","#893f49","#4d3240"]},{name:"present-correct",colors:["#fd3741","#fe4f11","#ff6800","#ffa61a","#ffc219","#ffd114","#fcd82e","#f4d730","#ced562","#8ac38f","#79b7a0","#72b5b1","#5b9bae","#6ba1b7","#49619d","#604791","#721e7f","#9b2b77","#ab2562","#ca2847"]}],[{name:"tundra1",colors:["#40708c","#8e998c","#5d3f37","#ed6954","#f2e9e2"]},{name:"tundra2",colors:["#5f9e93","#3d3638","#733632","#b66239","#b0a1a4","#e3dad2"]},{name:"tundra3",colors:["#87c3ca","#7b7377","#b2475d","#7d3e3e","#eb7f64","#d9c67a","#f3f2f2"]},{name:"tundra4",colors:["#d53939","#b6754d","#a88d5f","#524643","#3c5a53","#7d8c7c","#dad6cd"]}],[{name:"cc239",colors:["#e3dd34","#78496b","#f0527f","#a7e0e2"],background:"#e0eff0"},{name:"cc234",colors:["#ffce49","#ede8dc","#ff5736","#ff99b4"],background:"#f7f4ed"},{name:"cc232",colors:["#5c5f46","#ff7044","#ffce39","#66aeaa"],background:"#e9ecde"},{name:"cc238",colors:["#553c60","#ffb0a0","#ff6749","#fbe090"],background:"#f5e9de"},{name:"cc242",colors:["#bbd444","#fcd744","#fa7b53","#423c6f"],background:"#faf4e4"},{name:"cc245",colors:["#0d4a4e","#ff947b","#ead3a2","#5284ab"],background:"#f6f4ed"},{name:"cc273",colors:["#363d4a","#7b8a56","#ff9369","#f4c172"],background:"#f0efe2"}],[{name:"rohlfs_1R",colors:["#004996","#567bae","#ff4c48","#ffbcb3"],stroke:"#004996",background:"#fff8e7"},{name:"rohlfs_1Y",colors:["#004996","#567bae","#ffc000","#ffdca4"],stroke:"#004996",background:"#fff8e7"},{name:"rohlfs_1G",colors:["#004996","#567bae","#60bf3c","#d2deb1"],stroke:"#004996",background:"#fff8e7"},{name:"rohlfs_2",colors:["#4d3d9a","#f76975","#ffffff","#eff0dd"],stroke:"#211029",background:"#58bdbc"},{name:"rohlfs_3",colors:["#abdfdf","#fde500","#58bdbc","#eff0dd"],stroke:"#211029",background:"#f76975"},{name:"rohlfs_4",colors:["#fde500","#2f2043","#f76975","#eff0dd"],stroke:"#211029",background:"#fbbeca"}],[{name:"ducci_jb",colors:["#395e54","#e77b4d","#050006","#e55486"],stroke:"#050006",background:"#efe0bc"},{name:"ducci_a",colors:["#809498","#d3990e","#000000","#ecddc5"],stroke:"#ecddc5",background:"#863f52"},{name:"ducci_b",colors:["#ecddc5","#79b27b","#000000","#ac6548"],stroke:"#ac6548",background:"#d5c08e"},{name:"ducci_d",colors:["#f3cb4d","#f2f5e3","#20191b","#67875c"],stroke:"#67875c",background:"#433d5f"},{name:"ducci_e",colors:["#c37c2b","#f6ecce","#000000","#386a7a"],stroke:"#386a7a",background:"#e3cd98"},{name:"ducci_f",colors:["#596f7e","#eae6c7","#463c21","#f4cb4c"],stroke:"#f4cb4c",background:"#e67300"},{name:"ducci_g",colors:["#c75669","#000000","#11706a"],stroke:"#11706a",background:"#ecddc5"},{name:"ducci_h",colors:["#6b5c6e","#4a2839","#d9574a"],stroke:"#d9574a",background:"#ffc34b"},{name:"ducci_i",colors:["#e9dcad","#143331","#ffc000"],stroke:"#ffc000",background:"#a74c02"},{name:"ducci_j",colors:["#c47c2b","#5f5726","#000000","#7e8a84"],stroke:"#7e8a84",background:"#ecddc5"},{name:"ducci_o",colors:["#c15e1f","#e4a13a","#000000","#4d545a"],stroke:"#4d545a",background:"#dfc79b"},{name:"ducci_q",colors:["#4bae8c","#d0c1a0","#2d3538"],stroke:"#2d3538",background:"#d06440"},{name:"ducci_u",colors:["#f6d700","#f2d692","#000000","#5d3552"],stroke:"#5d3552",background:"#ff7426"},{name:"ducci_v",colors:["#c65f75","#d3990e","#000000","#597e7a"],stroke:"#597e7a",background:"#f6eccb"},{name:"ducci_x",colors:["#dd614a","#f5cedb","#1a1e4f"],stroke:"#1a1e4f",background:"#fbb900"}],[{name:"jud_playground",colors:["#f04924","#fcce09","#408ac9"],stroke:"#2e2925",background:"#ffffff"},{name:"jud_horizon",colors:["#f8c3df","#f2e420","#28b3d0","#648731","#ef6a7d"],stroke:"#030305",background:"#f2f0e1"},{name:"jud_mural",colors:["#ca3122","#e5af16","#4a93a2","#0e7e39","#e2b9bd"],stroke:"#1c1616",background:"#e3ded8"},{name:"jud_cabinet",colors:["#f0afb7","#f6bc12","#1477bb","#41bb9b"],stroke:"#020508",background:"#e3ded8"}],[{name:"iiso_zeitung",colors:["#ee8067","#f3df76","#00a9c0","#f7ab76"],stroke:"#111a17",background:"#f5efcb"},{name:"iiso_curcuit",colors:["#f0865c","#f2b07b","#6bc4d2","#1a3643"],stroke:"#0f1417",background:"#f0f0e8"},{name:"iiso_airlines",colors:["#fe765a","#ffb468","#4b588f","#faf1e0"],stroke:"#1c1616",background:"#fae5c8"},{name:"iiso_daily",colors:["#e76c4a","#f0d967","#7f8cb6","#1daeb1","#ef9640"],stroke:"#000100",background:"#e2ded2"}],[{name:"kov_01",colors:["#d24c23","#7ba6bc","#f0c667","#ede2b3","#672b35","#142a36"],stroke:"#132a37",background:"#108266"},{name:"kov_02",colors:["#e8dccc","#e94641","#eeaeae"],stroke:"#e8dccc",background:"#6c96be"},{name:"kov_03",colors:["#e3937b","#d93f1d","#090d15","#e6cca7"],stroke:"#090d15",background:"#558947"},{name:"kov_04",colors:["#d03718","#292b36","#33762f","#ead7c9","#ce7028","#689d8d"],stroke:"#292b36",background:"#deb330"},{name:"kov_05",colors:["#de3f1a","#de9232","#007158","#e6cdaf","#869679"],stroke:"#010006",background:"#7aa5a6"},{name:"kov_06",colors:["#a87c2a","#bdc9b1","#f14616","#ecbfaf","#017724","#0e2733","#2b9ae9"],stroke:"#292319",background:"#dfd4c1"},{name:"kov_06b",colors:["#d57846","#dfe0cc","#de442f","#e7d3c5","#5ec227","#302f35","#63bdb3"],stroke:"#292319",background:"#dfd4c1"},{name:"kov_07",colors:["#c91619","#fdecd2","#f4a000","#4c2653"],stroke:"#111",background:"#89c2cd"}],[{name:"tsu_arcade",colors:["#4aad8b","#e15147","#f3b551","#cec8b8","#d1af84","#544e47"],stroke:"#251c12",background:"#cfc7b9"},{name:"tsu_harutan",colors:["#75974a","#c83e3c","#f39140","#e4ded2","#f8c5a4","#434f55"],stroke:"#251c12",background:"#cfc7b9"},{name:"tsu_akasaka",colors:["#687f72","#cc7d6c","#dec36f","#dec7af","#ad8470","#424637"],stroke:"#251c12",background:"#cfc7b9"}],[{name:"dt01",colors:["#172a89","#f7f7f3"],stroke:"#172a89",background:"#f3abb0"},{name:"dt02",colors:["#302956","#f3c507"],stroke:"#302956",background:"#eee3d3"},{name:"dt03",colors:["#000000","#a7a7a7"],stroke:"#000000",background:"#0a5e78"},{name:"dt04",colors:["#50978e","#f7f0df"],stroke:"#000000",background:"#f7f0df"},{name:"dt05",colors:["#ee5d65","#f0e5cb"],stroke:"#080708",background:"#f0e5cb"},{name:"dt06",colors:["#271f47","#e7ceb5"],stroke:"#271f47",background:"#cc2b1c"},{name:"dt07",colors:["#6a98a5","#d24c18"],stroke:"#efebda",background:"#efebda"},{name:"dt08",colors:["#5d9d88","#ebb43b"],stroke:"#efebda",background:"#efebda"},{name:"dt09",colors:["#052e57","#de8d80"],stroke:"#efebda",background:"#efebda"},{name:"dt10",colors:["#e5dfcf","#151513"],stroke:"#151513",background:"#e9b500"}],[{name:"hilda01",colors:["#ec5526","#f4ac12","#9ebbc1","#f7f4e2"],stroke:"#1e1b1e",background:"#e7e8d4"},{name:"hilda02",colors:["#eb5627","#eebb20","#4e9eb8","#f7f5d0"],stroke:"#201d13",background:"#77c1c0"},{name:"hilda03",colors:["#e95145","#f8b917","#b8bdc1","#ffb2a2"],stroke:"#010101",background:"#6b7752"},{name:"hilda04",colors:["#e95145","#f6bf7a","#589da1","#f5d9bc"],stroke:"#000001",background:"#f5ede1"},{name:"hilda05",colors:["#ff6555","#ffb58f","#d8eecf","#8c4b47","#bf7f93"],stroke:"#2b0404",background:"#ffda82"},{name:"hilda06",colors:["#f75952","#ffce84","#74b7b2","#f6f6f6","#b17d71"],stroke:"#0e0603",background:"#f6ecd4"}],[{name:"spatial01",colors:["#ff5937","#f6f6f4","#4169ff"],stroke:"#ff5937",background:"#f6f6f4"},{name:"spatial02",colors:["#ff5937","#f6f6f4","#f6f6f4"],stroke:"#ff5937",background:"#f6f6f4"},{name:"spatial02i",colors:["#f6f6f4","#ff5937","#ff5937"],stroke:"#f6f6f4",background:"#ff5937"},{name:"spatial03",colors:["#4169ff","#f6f6f4","#f6f6f4"],stroke:"#4169ff",background:"#f6f6f4"},{name:"spatial03i",colors:["#f6f6f4","#4169ff","#4169ff"],stroke:"#f6f6f4",background:"#4169ff"}],[{name:"jung_bird",colors:["#fc3032","#fed530","#33c3fb","#ff7bac","#fda929"],stroke:"#000000",background:"#ffffff"},{name:"jung_horse",colors:["#e72e81","#f0bf36","#3056a2"],stroke:"#000000",background:"#ffffff"},{name:"jung_croc",colors:["#f13274","#eed03e","#405e7f","#19a198"],stroke:"#000000",background:"#ffffff"},{name:"jung_hippo",colors:["#ff7bac","#ff921e","#3ea8f5","#7ac943"],stroke:"#000000",background:"#ffffff"},{name:"jung_wolf",colors:["#e51c39","#f1b844","#36c4b7","#666666"],stroke:"#000000",background:"#ffffff"}],[{name:"system.#01",colors:["#ff4242","#fec101","#1841fe","#fcbdcc","#82e9b5"],stroke:"#000",background:"#fff"},{name:"system.#02",colors:["#ff4242","#ffd480","#1e365d","#edb14c","#418dcd"],stroke:"#000",background:"#fff"},{name:"system.#03",colors:["#f73f4a","#d3e5eb","#002c3e","#1aa1b1","#ec6675"],stroke:"#110b09",background:"#fff"},{name:"system.#04",colors:["#e31f4f","#f0ac3f","#18acab","#26265a","#ea7d81","#dcd9d0"],stroke:"#26265a",backgrund:"#dcd9d0"},{name:"system.#05",colors:["#db4549","#d1e1e1","#3e6a90","#2e3853","#a3c9d3"],stroke:"#000",background:"#fff"},{name:"system.#06",colors:["#e5475c","#95b394","#28343b","#f7c6a3","#eb8078"],stroke:"#000",background:"#fff"},{name:"system.#07",colors:["#d75c49","#f0efea","#509da4"],stroke:"#000",background:"#fff"},{name:"system.#08",colors:["#f6625a","#92b29f","#272c3f"],stroke:"#000",background:"#fff"}],[{name:"empusa",colors:["#c92a28","#e69301","#1f8793","#13652b","#e7d8b0","#48233b","#e3b3ac"],stroke:"#1a1a1a",background:"#f0f0f2"},{name:"delphi",colors:["#475b62","#7a999c","#2a1f1d","#fbaf3c","#df4a33","#f0e0c6","#af592c"],stroke:"#2a1f1d",background:"#f0e0c6"},{name:"mably",colors:["#13477b","#2f1b10","#d18529","#d72a25","#e42184","#138898","#9d2787","#7f311b"],stroke:"#2a1f1d",background:"#dfc792"},{name:"nowak",colors:["#e85b30","#ef9e28","#c6ac71","#e0c191","#3f6279","#ee854e","#180305"],stroke:"#180305",background:"#ede4cb"},{name:"jupiter",colors:["#c03a53","#edd09e","#aab5af","#023629","#eba735","#8e9380","#6c4127"],stroke:"#12110f",background:"#e6e2d6"},{name:"hersche",colors:["#df9f00","#1f6f50","#8e6d7f","#da0607","#a4a5a7","#d3d1c3","#42064f","#25393a"],stroke:"#0a0a0a",background:"#f0f5f6"},{name:"cherfi",colors:["#99cb9f","#cfb610","#d00701","#dba78d","#2e2c1d","#bfbea2","#d2cfaf"],stroke:"#332e22",background:"#e3e2c5"},{name:"harvest",colors:["#313a42","#9aad2e","#f0ae3c","#df4822","#8eac9b","#cc3d3f","#ec8b1c","#1b9268"],stroke:"#463930",background:"#e5e2cf"},{name:"honey",colors:["#f14d42","#f4fdec","#4fbe5d","#265487","#f6e916","#f9a087","#2e99d6"],stroke:"#141414",background:"#f4fdec"},{name:"jungle",colors:["#adb100","#e5f4e9","#f4650f","#4d6838","#cb9e00","#689c7d","#e2a1a8","#151c2e"],stroke:"#0e0f27",background:"#cecaa9"},{name:"skyspider",colors:["#f4b232","#f2dbbd","#01799c","#e93e48","#0b1952","#006748","#ed817d"],stroke:"#050505",background:"#f0dbbc"},{name:"atlas",colors:["#5399b1","#f4e9d5","#de4037","#ed942f","#4e9e48","#7a6e62"],stroke:"#3d352b",background:"#f0c328"},{name:"giftcard",colors:["#FBF5E9","#FF514E","#FDBC2E","#4561CC","#2A303E","#6CC283","#A71172","#238DA5","#9BD7CB","#231E58","#4E0942"],stroke:"#000",background:"#FBF5E9"},{name:"giftcard_sub",colors:["#FBF5E9","#FF514E","#FDBC2E","#4561CC","#2A303E","#6CC283","#238DA5","#9BD7CB"],stroke:"#000",background:"#FBF5E9"}],[{name:"dale_paddle",colors:["#ff7a5a","#765aa6","#fee7bc","#515e8c","#ffc64a","#b460a6","#ffffff","#4781c1"],stroke:"#000000",background:"#abe9e8"},{name:"dale_night",colors:["#ae5d9d","#f1e8bc","#ef8fa3","#f7c047","#58c9ed","#f77150"],stroke:"#000000",background:"#00ae83"},{name:"dale_cat",colors:["#f77656","#f7f7f7","#efc545","#dfe0e2","#3c70bd","#66bee4"],stroke:"#000000",background:"#f6e0b8"}],[{name:"cako1",colors:["#000000","#d55a3a","#2a5c8a","#7e7d14","#dbdac9"],stroke:"#000000",background:"#f4e9d5"},{name:"cako2",colors:["#dbdac9","#d55a3a","#2a5c8a","#b47b8c","#7e7d14"],stroke:"#000000",background:"#000000"},{name:"cako2_sub1",colors:["#dbdac9","#d55a3a","#2a5c8a"],stroke:"#000000",background:"#000000"},{name:"cako2_sub2",colors:["#dbdac9","#d55a3a","#7e7d14"],stroke:"#000000",background:"#000000"}],[{name:"mayo1",colors:["#ea510e","#ffd203","#0255a3","#039177","#111111"],stroke:"#111111",background:"#fff"},{name:"mayo2",colors:["#ea663f","#f9cc27","#84afd7","#7ca994","#f1bbc9","#242424"],stroke:"#2a2a2a",background:"#f5f6f1"},{name:"mayo3",colors:["#ea5b19","#f8c9b9","#137661","#2a2a2a"],stroke:"#2a2a2a",background:"#f5f4f0"}],[{name:"exposito",colors:["#8bc9c3","#ffae43","#ea432c","#228345","#d1d7d3","#524e9c","#9dc35e","#f0a1a1"],stroke:"#fff",background:"#000000"},{name:"exposito_sub1",colors:["#8bc9c3","#ffae43","#ea432c","#524e9c"],stroke:"#fff",background:"#000000"},{name:"exposito_sub2",colors:["#8bc9c3","#ffae43","#ea432c","#524e9c","#f0a1a1","#228345"],stroke:"#fff",background:"#000000"},{name:"exposito_sub3",colors:["#ffae43","#ea432c","#524e9c","#f0a1a1"],stroke:"#fff",background:"#000000"}]).map(e=>(e.size=e.colors.length,e));function r(){return t[Math.floor(Math.random()*t.length)]}e.getRandom=r,e.get=function(e){return void 0===e?r():t.find(t=>t.name==e)},e.getAll=function(){return t},e.getNames=function(){return t.map(e=>e.name)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){r(24),e.exports=r(23)},function(e,t,r){var n=r(9);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function i(e,t,r,n){var o=t&&t.prototype instanceof l?t:l,a=Object.create(o.prototype),c=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return T()}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var s=k(c,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var i=f(e,t,r);if("normal"===i.type){if(n=r.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(n="completed",r.method="throw",r.arg=i.arg)}}}(e,r,c),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=i;var u={};function l(){}function d(){}function h(){}var b={};s(b,o,(function(){return this}));var p=Object.getPrototypeOf,y=p&&p(p(S([])));y&&y!==t&&r.call(y,o)&&(b=y);var m=h.prototype=l.prototype=Object.create(b);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var n;this._invoke=function(o,a){function c(){return new t((function(n,c){!function n(o,a,c,s){var i=f(e[o],e,a);if("throw"!==i.type){var u=i.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(l).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,s)}))}s(i.arg)}(o,a,n,c)}))}return n=n?n.then(c,c):c()}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=h,s(m,"constructor",h),s(h,"constructor",d),d.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},v(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var c=new g(i(t,r,n,o),a);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},v(m),s(m,c,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),i=r.call(a,"finallyLoc");if(s&&i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var c=a?a.completion:{};return c.type=e,c.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;w(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],c=!0,s=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(s)throw o}}return a}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,r(t,n)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"subBass",(function(){return Q})),r.d(n,"softSquareBass",(function(){return Y})),r.d(n,"FastAttackSquare",(function(){return Z})),r.d(n,"SawTooth",(function(){return J})),r.d(n,"squareBass",(function(){return ee}));var o={};r.r(o),r.d(o,"SimpleSine",(function(){return re})),r.d(o,"SoftSquareFm",(function(){return ne})),r.d(o,"SwirlySawtoothChorusWithSubBass",(function(){return oe}));var a={};r.r(a),r.d(a,"KickDrum",(function(){return ce})),r.d(a,"HiHat",(function(){return se})),r.d(a,"Slap",(function(){return ie})),r.d(a,"OpenHat",(function(){return fe})),r.d(a,"Shaker",(function(){return ue})),r.d(a,"DampenedOpenHat",(function(){return le}));var c={};r.r(c),r.d(c,"SimpleSine",(function(){return he}));var s={};r.r(s),r.d(s,"Tiny",(function(){return ye})),r.d(s,"AM_Tiny",(function(){return me})),r.d(s,"FM_ElectricCello",(function(){return ve})),r.d(s,"Kalimba",(function(){return ge})),r.d(s,"BassGuitar",(function(){return ke})),r.d(s,"Bassy",(function(){return xe})),r.d(s,"Bah",(function(){return we})),r.d(s,"AlienChorus",(function(){return _e})),r.d(s,"DelicateWindPart",(function(){return Se})),r.d(s,"TreeTrunk",(function(){return Te})),r.d(s,"Marimba",(function(){return Me})),r.d(s,"Gravel",(function(){return Ae}));var i=r(7),f=r.n(i),u=r(8),l=r.n(u),d=r(5),h=r.n(d),b=r(0),p=r.n(b),y=r(2),m=r.n(y),v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4?arguments[4]:void 0;p()(this,e);for(var c=[],s=0;s<(o+2)*(n-1)+1;s+=1)a.random_num(0,1)<.35?c.push(0):c.push(a.random_int(1,n-1));this.config={size:t,timestamps:r,k:n,r:o,ruleString:c,random:a,chunkSize:8}}return m()(e,[{key:"generate",value:function(){var t=this;this.grid=[Array(this.config.size).fill(0).map((function(){return{val:t.config.random.random_int(0,t.config.k-1),len:1,begin:!1}}))];for(var r=0;r<this.config.timestamps;r+=1){for(var n=[],o=0;o<this.config.size;o+=1){for(var a=[],c=o-this.config.r;c<=o+this.config.r;c+=1)a.push(c>=0&&c<this.config.size?this.grid[this.grid.length-1][c].val:0);n.push({val:e.totalisticRule(a,this.config.k,this.config.ruleString),len:1,begin:!1})}this.grid.push(n)}for(var s=function(e,t,r,n){for(var o=0,a=r;a>=t;a--)a+1<=r&&e[a].val!==e[a+1].val?(e[a+1].begin=!0,o=1):o+=1,e[a].len=o;e[t].begin=!0},i=0;i<this.config.timestamps;i+=1)for(var f=0;f<this.config.size;f+=this.config.chunkSize)s(this.grid[i],f,Math.min(f+this.config.chunkSize,this.config.size-1));console.log(this.grid)}},{key:"getCell",value:function(e){return e<0||e>=this.config.size*this.config.timestamps?null:this.grid[Math.floor(e/this.config.size)][e%this.config.size]}}],[{key:"totalisticRule",value:function(e,t,r){var n=e.length*(t-1)+1,o=e.reduce((function(e,t){return e+t}),0);return Number(r[n-1-o])}}]),e}(),g=function(){function e(t){p()(this,e);var r={hash:t};this.useA=!1;var n=function(e){var t=parseInt(e.substr(0,8,16)),r=parseInt(e.substr(8,8,16)),n=parseInt(e.substr(16,8,16)),o=parseInt(e.substr(24,8,16));return function(){var e=((t|=0)+(r|=0)|0)+(o|=0)|0;return o=o+1|0,t=r^r>>>9,r=(n|=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+e|0,(e>>>0)/4294967296}};this.prngA=new n(r.hash.substr(2,32)),this.prngB=new n(r.hash.substr(34,32));for(var o=0;o<1e6;o+=2)this.prngA(),this.prngB()}return m()(e,[{key:"random_dec",value:function(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}},{key:"random_num",value:function(e,t){return e+(t-e)*this.random_dec()}},{key:"random_int",value:function(e,t){return Math.floor(this.random_num(e,t+1))}},{key:"random_bool",value:function(e){return this.random_dec()<e}},{key:"random_choice",value:function(e){return e[this.random_int(0,e.length-1)]}}]),e}(),k=r(6),x=r.n(k),w=r(11);var _=function(e,t,r){return e*(1-r)+t*r};function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M=function(){function e(t,r,n){p()(this,e),this.context=r,this.automata=t,this.random=n,this.activeNoteIdx=null;var o=["retro","retro-washedout","roygbiv-warm","roygbiv-toned","present-correct","tundra3","tundra4","kov_06","kov_06b","empusa","delphi","mably","nowak","jupiter","hersche","cherfi","harvest","honey","jungle","giftcard","giftcard_sub","dale_paddle","exposito"],a=this.random.random_int(0,o.length-1);this.palette=w.get(o[a]),this.paletteColors=this.palette.colors,this.strokeColor=this.palette.stroke,this.backgroundColor=this.palette.background;var c=t.config;this.boxConfig={MIN_WIDTH:1,MAX_WIDIH:Math.floor(c.size/10),MIN_HEIGHT:10,MAX_HEIGHT:100,MAX_GAP:Math.floor(c.size/10),MAX_ROW:12};var s,i=[],f=S(this.automata.grid.entries());try{for(f.s();!(s=f.n()).done;){var u,l=x()(s.value,2),d=l[0],h=l[1],b={startingTheta:0,omega:0,alpha:0,cumulativeArea:0,boxRow:[]},y=0,m=S(h.entries());try{for(m.s();!(u=m.n()).done;){var v=x()(u.value,2),g=v[0],k=v[1],T=k.val,M=k.len,A=k.begin;if(0===T)y+=this.boxConfig.MIN_WIDTH;else if(A){var E=this.random.random_num(0,this.boxConfig.MIN_HEIGHT),I={x:y+this.random.random_num(0,this.boxConfig.MAX_GAP),y:E,w:M,h:this.random.random_num(this.boxConfig.MIN_HEIGHT,this.boxConfig.MAX_HEIGHT-E),gapAfter:g===h.length-1?this.random.random_num(0,this.boxConfig.MAX_GAP):0,color:this.paletteColors[T],radiusDelta:0,radiusV:0,radiusA:0,shown:!0,idx:d*this.automata.config.size+g};y=I.x+I.w+I.gapAfter,b.cumulativeArea+=I.w*I.h,b.boxRow.push(I)}}}catch(e){m.e(e)}finally{m.f()}b.omega=_(0,.01,b.cumulativeArea/(y*this.boxConfig.MAX_HEIGHT)),i.push(b)}}catch(e){f.e(e)}finally{f.f()}this.boxList=i,this.currRow=0,console.log(i)}return m()(e,[{key:"setDim",value:function(e,t){this.context.fillStyle=this.palette[1],this.width=e,this.height=t}},{key:"getScaleParam",value:function(e,t){var r=Math.min(e,t),n=r/1e3;return{CELL_SIZE_HEIGHT:400/this.boxConfig.MAX_ROW,M:n,scale:e/t<=1?e:t,DIM:r,BASE_RADIUS:100}}},{key:"render",value:function(e,t){var r=this,n=this.getScaleParam(e,t),o=n.CELL_SIZE_HEIGHT,a=n.M,c=(n.DIM,n.scale,n.BASE_RADIUS);this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,e,t),this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,e,t),this.context.translate(e/2,t/2);var s,i=function(e,t,n,o,c){var s=[Math.cos(e)*n,Math.sin(e)*n],i=[Math.cos(e)*o,Math.sin(e)*o],f=(Math.cos(t),Math.sin(t),[Math.cos(t)*n,Math.sin(t)*n]);r.context.fillStyle=c,r.context.beginPath(),r.context.moveTo(s[0]*a,s[1*a]),r.context.lineTo(i[0]*a,i[1]*a),r.context.arc(0,0,o*a,e,t),r.context.lineTo(f[0]*a,f[1]*a),r.context.arc(0,0,n*a,t,e,!0),r.context.closePath(),r.context.fill()},f=S(this.boxList.slice(this.currRow,this.currRow+this.boxConfig.MAX_ROW).entries());try{for(f.s();!(s=f.n()).done;){var u,l=x()(s.value,2),d=l[0],h=l[1],b=0,p=S(h.boxRow.entries());try{for(p.s();!(u=p.n()).done;){var y=x()(u.value,2),m=(y[0],y[1]);b=Math.max(b,m.x+m.w+m.gapAfter)}}catch(e){p.e(e)}finally{p.f()}var v,g=(this.boxConfig.MAX_ROW-d-1)*o+.6*c,k=S(h.boxRow.entries());try{for(k.s();!(v=k.n()).done;){var w=x()(v.value,2),T=(w[0],w[1]);this.activeNoteIdx===T.idx&&0===T.radiusV&&(T.radiusV=5),T.radiusDelta+=T.radiusV;var M=2*Math.PI*T.x/b,A=2*Math.PI*(T.x+T.w)/b,E=g+_(0,o,1*(T.y+T.h)/this.boxConfig.MAX_HEIGHT),I=g+_(0,o,1*T.y/this.boxConfig.MAX_HEIGHT);i(h.startingTheta+M,h.startingTheta+A,1.5*T.radiusDelta+E,T.radiusDelta+I,T.color)}}catch(e){k.e(e)}finally{k.f()}h.startingTheta+=h.omega}}catch(e){f.e(e)}finally{f.f()}}},{key:"setActiveNode",value:function(e){this.activeNoteIdx=e}}]),e}(),A=function(e,t){return window.random.random_int(e,t)},E=function(e){return e[A(0,e.length-1)]};function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],j={Major:[2,2,1,2,2,2],Minor:[2,1,2,2,1,2],HarmonicMinor:[2,1,2,2,1,3],MelodicMinor:[2,1,2,2,2,2],Ionian:[2,2,1,2,2,2],Aeolian:[2,1,2,2,1,2],Dorian:[2,1,2,2,2,1],Mixolydian:[2,2,1,2,2,1],Phrygian:[1,2,2,2,1,2],Lydian:[2,2,2,1,2,2],Locrian:[1,2,2,1,2,2],Dominant7th:[2,2,1,2,2,1],Blues:[3,2,1,1,3]},C=[[1,5,4,4,1,5,1,5],[1,1,1,1,4,4,1,1,5,5,1,1],[1,6,4,5],[1,4,7,4],[2,5,1],[1,5,7,4],[6,2,5,1],[1,5,6,3],[1,4,2,5],[1,5,6,3,4,1,4,5]],O=[[1,3,5],[1,3,5,7],[1,3,5,9]],P=function(e,t,r,n){var o,a=[];o=e,e=isNaN(o-parseFloat(o))?e.replace(/[0-9]/g,""):Tone.Frequency(e).toNote().replace(/[0-9]/g,"");for(var c=r;c<=n;c++){var s=D(e+c,t);a=[].concat(f()(a),f()(s))}return a},B=function(e,t,r,n){var o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=P(t,r,n,n+1),s=[],i=I(e);try{for(i.s();!(o=i.n()).done;){var f=o.value;s.push(c[f+a-1])}}catch(e){i.e(e)}finally{i.f()}return s},D=function(e,t){var r=[],n=Tone.Frequency(e);r.push(e);var o,a=I(t);try{for(a.s();!(o=a.n()).done;){var c=o.value;n=n.transpose(c),r.push(n.toFrequency())}}catch(e){a.e(e)}finally{a.f()}return r},q=function(e){return e.map((function(e){return Tone.Frequency(e[0]).toNote().replace(/[0-9]/g,"")})).join(", ")};function L(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N=function(e,t,r,n,o,a){var c=new Tone.Sequence((function(e,n){1===n&&r.triggerAttackRelease(t,"16n",e)}),n,"16n");return c.probability=o,c.loop=a,c.start(e),c};var G=r(1),z=r.n(G),X=r(4),W=r.n(X),U=r(3),K=r.n(U),V=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p()(this,e),this.synth=t,n&&this.synth.toDestination(),this.synth.volume.value=r}return m()(e,[{key:"triggerAttackRelease",value:function(e,t,r){try{e?this.synth.triggerAttackRelease(e,t,r):this.synth.triggerAttackRelease(t,r)}catch(e){console.log(e)}}}]),e}();function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K()(e);if(t){var o=K()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W()(this,r)}}var Q=function(){return ee(2)},Y=function(){return ee(6)},Z=function(e){z()(r,e);var t=$(r);function r(){return p()(this,r),t.call(this,new Tone.Synth({oscillator:{type:"square4"},envelope:{attack:.02,decay:0,sustain:1,release:1}}),5,!0)}return r}(V),J=function(e){z()(r,e);var t=$(r);function r(){return p()(this,r),t.call(this,new Tone.Synth({oscillator:{type:"sawtooth"},envelope:{attack:.02,decay:.2,sustain:.8,release:1}}),18,!0)}return r}(V),ee=function(e){var t=new Tone.Synth({oscillator:{type:"square".concat(e)},envelope:{attack:"0:2",decay:.1,sustain:1,release:3}}).toDestination();return t.volume.value=24,t};function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K()(e);if(t){var o=K()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W()(this,r)}}var re=function(e){z()(r,e);var t=te(r);function r(){var e;p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.Synth),0)).synth.set({oscillator:{type:"fatsine"},envelope:{attack:.2,decay:.1,sustain:1,release:1},portamento:.2});var n=new Tone.Filter(250,"lowpass").toMaster(),o=new Tone.LFO("4m",550,1500);o.start(),o.connect(n.frequency);var a=(new Tone.Freeverb).toDestination();return e.synth.chain(a,n),e}return r}(V),ne=function(e){z()(r,e);var t=te(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24;p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.Synth),n)).synth.set({oscillator:{type:"fmsquare2"},envelope:{attack:.2,decay:.1,sustain:1,release:1},portamento:0}),e.synth.volume.value=8;var o=(new Tone.Freeverb).toDestination(),a=new Tone.Filter(400,"lowpass");return e.synth.chain(a,o),e}return r}(V),oe=function(){try{var e=new Tone.PolySynth(Tone.Synth);e.set({oscillator:{type:"fatsawtooth"},envelope:{attack:.2,decay:.1,sustain:1,release:1},portamento:.2});var t=new Tone.Filter(250,"lowpass").toMaster(),r=new Tone.LFO("8m",550,1500);r.start(),r.connect(t.frequency);var n=new Tone.Chorus("1:0:0",2.5,1),o=new Tone.Freeverb;e.chain(n,o,t);var a=Q();a.volume.value=a.volume.value-22,e.volume.value=0,this.triggerAttackRelease=function(t,r,n){var o=Tone.Frequency(t[0]).transpose(-12);e.triggerAttackRelease(t,r,n),a.triggerAttackRelease(o,r,n)}}catch(e){console.log(e)}};function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K()(e);if(t){var o=K()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W()(this,r)}}var ce=function(e){z()(r,e);var t=ae(r);function r(){return p()(this,r),t.call(this,new Tone.MembraneSynth({pitchDecay:.1}),18,!0)}return r}(V),se=function(e){z()(r,e);var t=ae(r);function r(){var e;p()(this,r),e=t.call(this,new Tone.MetalSynth,14,!0);var n=new Tone.Filter(8e3,"highpass").toDestination();new Tone.Freeverb;return e.synth.chain(n),e}return r}(V),ie=function(e){z()(r,e);var t=ae(r);function r(){var e;p()(this,r),e=t.call(this,new Tone.NoiseSynth({noise:{type:"white",playbackRate:5},envelope:{attack:.001,decay:.3,sustain:0,release:.3}}),5);var n=new Tone.Filter(500,"lowpass").toDestination();return e.synth.connect(n),e}return r}(V),fe=function(e){z()(r,e);var t=ae(r);function r(e){return p()(this,r),t.call(this,new Tone.MetalSynth({frequency:e}),10,!0)}return m()(r,[{key:"setFrequency",value:function(e){this.synth.set({frequency:e})}}]),r}(V),ue=function(e){z()(r,e);var t=ae(r);function r(e){return p()(this,r),t.call(this,new Tone.MetalSynth({envelope:{attack:.1,decay:.4,release:.3},frequency:e,harmonicity:5.1,modulationIndex:64,resonance:3e3,octaves:1.5}),0,!0)}return r}(V),le=function(e){z()(r,e);var t=ae(r);function r(e){return p()(this,r),t.call(this,new Tone.MetalSynth({frequency:e,harmonicity:5.1,modulationIndex:32,resonance:1e3,octaves:1.5}),0,!0)}return m()(r,[{key:"setFrequency",value:function(e){this.synth.set({frequency:e})}}]),r}(V);function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K()(e);if(t){var o=K()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W()(this,r)}}var he=function(e){z()(r,e);var t=de(r);function r(){return p()(this,r),t.call(this,new Tone.Synth({oscillator:{type:"sine"},envelope:{attack:.02,decay:0,sustain:1,release:1}}),40,!0)}return r}(V);function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K()(e);if(t){var o=K()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W()(this,r)}}var pe,ye=function(e){z()(r,e);var t=be(r);function r(){var e;return p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.Synth),24,!0)).synth.set({harmonicity:2,oscillator:{type:"amsine2",modulationType:"sine",harmonicity:1.01},envelope:{attack:.006,decay:4,sustain:.04,release:1.2},modulation:{volume:13,type:"amsine2",modulationType:"sine",harmonicity:12},modulationEnvelope:{attack:.006,decay:.2,sustain:.2,release:.4}}),e.synth.volume.value=10,e}return r}(V),me=function(e){z()(r,e);var t=be(r);function r(){var e;return p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.AMSynth),24,!0)).synth.set({harmonicity:2,oscillator:{type:"amsine2",modulationType:"sine",harmonicity:1.01},envelope:{attack:.006,decay:4,sustain:.04,release:1.2},modulation:{volume:13,type:"amsine2",modulationType:"sine",harmonicity:12},modulationEnvelope:{attack:.006,decay:.2,sustain:.2,release:.4}}),e}return r}(V),ve=function(e){z()(r,e);var t=be(r);function r(){var e;p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.FMSynth),10)).synth.set({harmonicity:3.01,modulationIndex:14,oscillator:{type:"triangle"},envelope:{attack:.2,decay:.3,sustain:.9,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:.2,release:.1}});var n=(new Tone.Freeverb).toDestination();return e.synth.chain(n),e}return r}(V),ge=function(e){z()(r,e);var t=be(r);function r(){var e;p()(this,r),e=t.call(this,new Tone.FMSynth({harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.001,decay:2,sustain:.1,release:2},modulation:{type:"square"},modulationEnvelope:{attack:.002,decay:.2,sustain:0,release:.2}}),10);var n=(new Tone.Freeverb).toDestination();return e.synth.chain(n),e}return r}(V),ke=function(e){z()(r,e);var t=be(r);function r(){var e;p()(this,r),e=t.call(this,new Tone.MonoSynth({oscillator:{type:"fmsquare5",modulationType:"triangle",modulationIndex:2,harmonicity:.501},filter:{Q:1,type:"lowpass",rolloff:-24},envelope:{attack:.01,decay:.1,sustain:.4,release:2},filterEnvelope:{attack:.01,decay:.1,sustain:.8,release:1.5,baseFrequency:50,octaves:4.4}}),2);var n=(new Tone.Freeverb).toDestination();return e.synth.connect(n),e}return r}(V),xe=function(e){z()(r,e);var t=be(r);function r(){return p()(this,r),t.call(this,new Tone.MonoSynth({portamento:.08,oscillator:{partials:[2,1,3,2,.4]},filter:{Q:4,type:"lowpass",rolloff:-48},envelope:{attack:.04,decay:.06,sustain:.4,release:1},filterEnvelope:{attack:.01,decay:.1,sustain:.6,release:1.5,baseFrequency:50,octaves:3.4}}),13,!0)}return r}(V),we=function(e){z()(r,e);var t=be(r);function r(){var e;return p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.MonoSynth),30,!0)).synth.set({oscillator:{type:"sawtooth"},filter:{Q:2,type:"bandpass",rolloff:-24},envelope:{attack:.01,decay:.1,sustain:.2,release:.6},filterEnvelope:{attack:.02,decay:.4,sustain:1,release:.7,releaseCurve:"linear",baseFrequency:20,octaves:5}}),e}return r}(V),_e=function(e){z()(r,e);var t=be(r);function r(){var e;return p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.Synth),16,!0)).synth.set({volume:-15,oscillator:{type:"fatsine4",spread:60,count:10},envelope:{attack:.4,decay:.01,sustain:1,attackCurve:"sine",releaseCurve:"sine",release:.4}}),e}return r}(V),Se=function(e){z()(r,e);var t=be(r);function r(){var e;return p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.Synth),24,!0)).synth.set({portamento:0,oscillator:{type:"square4"},envelope:{attack:2,decay:1,sustain:.2,release:2}}),e.synth.volume.value=10,e}return r}(V),Te=function(e){z()(r,e);var t=be(r);function r(){var e;return p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.Synth),24,!0)).synth.set({oscillator:{type:"sine"},envelope:{attack:.001,decay:.1,sustain:.1,release:1.2}}),e}return r}(V),Me=function(e){z()(r,e);var t=be(r);function r(){var e;return p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.Synth),24,!0)).synth.set({oscillator:{partials:[1,0,2,0,3]},envelope:{attack:.001,decay:1.2,sustain:0,release:1.2}}),e.synth.volume.value=10,e}return r}(V),Ae=function(e){z()(r,e);var t=be(r);function r(){var e;return p()(this,r),(e=t.call(this,new Tone.PolySynth(Tone.NoiseSynth),24,!0)).synth.set({noise:{type:"pink",playbackRate:.1},envelope:{attack:.5,decay:2,sustain:.5,release:3}}),e.synth.volume.value=10,e}return r}(V),Ee={bass:n,pads:o,drums:a,lead:c,presets:s},Ie=[[1,0,0,0],[1,0,1,0,0,1,0,0,1,0,0,0,1,0,0,0],[1,1,0,0,0,0,0,0,1,0,0,0,1,0,0,0],[1,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0],[1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0]],Fe=[[0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0]],Re=[[0,1,0,0],[0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1],[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0],[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,1],[0,0,1,0,0,0,1,0,0,1,1,0,0,0,1,0]],je=[[1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0],[1,0,0,1,0,0,1,0,0,0,0,0,1,0,0,0],[1,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0],[1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0],[1,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0],[1,0,0,1,0,1,0,0,0,0,1,0,0,0,0,0],[1,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0],[1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0],[1,0,0,0,0,1,1,0,0,1,0,0,1,1,0,0]],Ce=[[1,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0],[1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0],[1,0,0,1,0,0,1,0,0,0,0,0,1,0,1,0],[1,1,0,0,0,0,1,0,0,0,0,0,1,0,1,0]],Oe=[[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0]],Pe=[[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0]],Be=function(){function e(){p()(this,e),Tone.Master.volume.value=-32,this.possibleChordPads=[new Ee.pads.SimpleSine,new Ee.pads.SwirlySawtoothChorusWithSubBass,new Ee.presets.DelicateWindPart,new Ee.presets.TreeTrunk],this.possibleBassInstruments=[new Ee.bass.FastAttackSquare,new Ee.presets.Bassy],this.possibleMotifInstruments=[new Ee.presets.AM_Tiny,new Ee.presets.Kalimba,new Ee.presets.FM_ElectricCello,new Ee.presets.BassGuitar,new Ee.presets.Bah],this.drumInstruments={KickDrum:new Ee.drums.KickDrum,Slap:new Ee.drums.Slap,HiHat:new Ee.drums.HiHat,Shaker:new Ee.drums.Shaker(Tone.Frequency("C5").toFrequency()),OpenHat:new Ee.drums.OpenHat(Tone.Frequency("C5").toFrequency())}}return m()(e,[{key:"generate",value:function(e,t){for(var r,n,o=(r=Object.keys(j),{type:n=E(r),intervals:j[n]}),a={root:R[A(0,R.length-1)],type:o.intervals,typeName:o.type,chordOctave:A(3,3)},c=E(C),s=function(e){for(var t=[],r=0;r<e.length;r++)t.push(E(O));return t}(c),i=function(e,t,r){for(var n=B(t,e.root,e.type,e.chordOctave),o=[],a=0;a<n.length;a++){var c=t[a],s=r[a];o.push(B(s,e.root,e.type,e.chordOctave,c))}return o}(a,c,s),f=E([1,2]),u=E(Ie),l=E(Re),d=E(Ce),h=E(Oe),b=E(Fe),p=[],y=0;y<i.length;y++)p.push(E(je));for(var m=[],v=0;v<i.length;v++)m.push(E(Pe));for(var g=function(e,t,r,n){for(var o=[],a=n.chordOctave+1,c=a-12*n.chordOctave,s=0;s<e.config.size*e.config.timestamps;s+=1){var i=r[Math.floor(s/(8*t))%r.length],f=Tone.Frequency(i[0]).transpose(c),u=Tone.Frequency(f).toNote(),l=P(u,n.type,a,a+1),d=e.getCell(s);o.push({idx:s,begin:d.begin,val:d.val,note:l[d.val-1],duration:d.begin&&Tone.Time("8n").toSeconds()*d.len})}return o}(e,f,i,a),k=[],x=0,w=p;x<w.length;x++){var _=w[x];k.push(_.filter((function(e){return 1===e})).length)}var S=a.chordOctave-1,T=E(this.possibleChordPads),M=E(this.possibleBassInstruments),I=E(this.possibleMotifInstruments),F=E(this.possibleMotifInstruments),D=(Tone.Frequency(a.root+"3").toFrequency(),{bpm:A(70,90),swing:window.random.random_num(0,1),key:"".concat(a.root," (").concat(a.typeName,")"),chordOctave:a.chordOctave,chordProgression:c,chordProgressionBars:f,chordTypesToUseInProgression:s,chordProgressionNotes:q(i),chordInstrument:T,bassInstrument:M,motifInstrument:I,mainMelodyInstrument:F,mainMelodyPatterns:g,bassLinePatterns:p,kickRythym:u,hihatRythym:l,shakerRythym:d,openHatRythym:h,snareRythym:b});return N("0:0:0","".concat(a.root,"0"),this.drumInstruments.KickDrum,u,1,!0),N("0:0:0",void 0,this.drumInstruments.Slap,b,1,!0),N("0:0:0",void 0,this.drumInstruments.Shaker,d,.8,!0),function(e,t,r,n,o,a,c){var s=new Tone.Loop((function(e){var o=t.shift();t.push(o),r.triggerAttackRelease(o,n,e)}),o);s.loop=a,s.start(e)}("0:0:0",i,T,"".concat(f,"m"),"".concat(f,"m"),!0),function(e,t,r,n,o,a,c){var s,i=[],f=L(t);try{for(f.s();!(s=f.n()).done;)for(var u=s.value,l=0;l<a;l++)for(var d=0;d<u.length;d++){var h=u[d];i.push(h)}}catch(e){f.e(e)}finally{f.f()}var b,p=[],y=L(o);try{for(y.s();!(b=y.n()).done;)for(var m=b.value,v=0;v<a;v++)for(var g=0;g<m.length;g++){var k=m[g];p.push(k)}}catch(e){y.e(e)}finally{y.f()}var x=new Tone.Sequence((function(e,t){if(1===t){var o=i.shift();i.push(o),r.triggerAttackRelease(o,n,e)}}),p,"16n");x.loop=c,x.start(e)}("0:0:0",function(e,t,r,n){for(var o=-1*n*12,a=[],c=0;c<t.length;c++){for(var s=t[c],i=e[c],f=Tone.Frequency(s[0]).transpose(o),u=P(r.root,r.type,n,n),l=[f],d=0,h=0;h<i-1;h++){var b=A(Math.max(d-2,0),Math.min(d+2,u.length));l.push(u[b]),d=b}a.push(l)}return a}(k,i,a,S),M,"4n",p,f,!0),function(e,t,r,n){var o=new Tone.Sequence((function(e,r){var o=r.idx,a=r.begin,c=r.val,s=r.note,i=r.duration;c>0&&a&&t.triggerAttackRelease(s,i,e),Tone.Draw.schedule((function(){n(o)}),e)}),r,"8n");o.loop=!1,o.start(e)}("0:0:0",F,g,t),D}}]),e}(),De=function(){function e(t,r){var n=this;p()(this,e),this.automata=t,this.renderer=r,this.state={toneStarted:!1,playing:!1,rowIdx:0,colIdx:0},this.song=new Be,this.visCallback=function(e){n.renderer.setActiveNode(e),e>=n.automata.config.timestamps*n.automata.config.size-1&&n.stop()},this.generatedSettings=this.song.generate(this.automata,this.visCallback),console.log("setting generated"),console.log(this.generatedSettings)}var t,r;return m()(e,[{key:"play",value:(r=l()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("play"),e.next=4,Tone.start();case 4:Tone.Transport.bpm.value=this.generatedSettings.bpm,Tone.Transport.swing=this.generatedSettings.swing,Tone.Transport.start(),console.log(this.generatedSettings),this.state.playing=!0,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("err",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return r.apply(this,arguments)})},{key:"stop",value:(t=l()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tone.getContext().close();case 2:this.state.playing=!1;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"togglePlay",value:function(){this.state.playing?this.stop():this.play()}}]),e}(),qe=window.location.search.split("=");2==qe.length&&(pe=qe[1]);var Le={hash:pe||"0x95c138f8b54949c12d05105cfc01960fc496813cbc3495b277aeed748549631"},He=new g(Le.hash);window.random=He;var Ne=new v(16,12,8,1,He);Ne.generate();var Ge,ze,Xe,We,Ue=window,Ke=document,Ve=Ke.body.appendChild(Ke.createElement("canvas")),$e=Ve.getContext("2d"),Qe=new M(Ne,$e,He),Ye=new De(Ne,Qe),Ze=new dat.GUI({autoPlace:!0,width:300}),Je={resetAnimation:(We=l()(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){return f()(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")},window.location.search="hash=".concat(t(64));case 2:case"end":return e.stop()}}),e)}))),function(){return We.apply(this,arguments)}),hash:Le.hash};Ze.add(Je,"resetAnimation").name("Randomize Hash"),Ze.show();var et=function(){Ge=Ue.innerWidth,ze=Ue.innerHeight,Xe=Ue.devicePixelRatio,Ve.width=~~(Ge*Xe),Ve.height=~~(ze*Xe),Ve.style.width="".concat(Ge,"px"),Ve.style.height="".concat(ze,"px"),$e.save(),$e.scale(Xe,Xe),$e.restore()};Ve.addEventListener("click",(function(){Ye.togglePlay()})),Ue.addEventListener("resize",et),et(),function e(){Qe.render(Ge,ze),Ze.updateDisplay(),requestAnimationFrame(e)}()}]);
//# sourceMappingURL=app.bundle.js.map